!function(e){function t(t){for(var r,c,o=t[0],l=t[1],u=t[2],f=0,d=[];f<o.length;f++)c=o[f],a[c]&&d.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=l;i.push([22,1]),n()}([,,,,function(e,t,n){e.exports=n.p+"09073a84dfdbd960d0f7ab7782f02a0c.png"},function(e,t,n){e.exports=n.p+"c7519c87d347685b7aaff2f657050299.svg"},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),i=n.n(a),c=(n(8),function(e){var t=e.children,n=i()("isAddPageShown").isAddPageShown;return Object(r.h)("div",{className:"slider ".concat(n?"":"slider__trigered")},t.map(function(e){return Object(r.h)("div",{className:"slider__slide"},e)}))}),o=n(2),l=function(){var e=window.localStorage.getItem("time");return e?Number(e):(window.localStorage.setItem("time",0),0)},u=function(e){var t=l();localStorage.setItem("time",t+e)},s=(n(9),function(e){var t=e.className,n=e.decreaseFunc,a=e.increaseFunc,i=e.value,c=e.isDecreaseDisabled;return Object(r.h)("div",{className:"counter ".concat(t||"")},Object(r.h)("p",{className:"counter__number"},i),Object(r.h)("button",{className:"counter__resetted-btn",onClick:a,"aria-label":"+"},Object(r.h)("div",{"aria-hidden":"true",className:"counter__triangle-up"})),Object(r.h)("button",{className:"counter__resetted-btn",disabled:c,onClick:n,"aria-label":"-"},Object(r.h)("div",{"aria-hidden":"true",className:"counter__triangle-down"})))});n(10);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=function(e){var t=e.className,n=e.value,a=d(e,["className","value"]);return Object(r.h)("button",f({className:"btn ".concat(t)},a),n)},m=function(e,t){switch(e%10){case 1:return t?"час":"минута";case 2:case 3:case 4:return t?"часа":"минуты";default:return t?"часов":"минут"}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e<60)return"".concat(e," ").concat(m(e,!1));var n=e%60,r=t?"мин":m(n,!1),a=Math.trunc(e/60),i=t&&n>0?"ч":m(a,!0);return 0===n?"".concat(a," ").concat(i):"".concat(a," ").concat(i," ").concat(n," ").concat(r)};function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O=function(e){var t=JSON.parse(localStorage.getItem("activities")).filter(function(t){return t.name!==e.name}),n=[].concat(y(t),[h({},e,{wasCompleted:!0})]);localStorage.setItem("activities",JSON.stringify(n))};n(11);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var t=e.name,n=e.bonusTime,a=e.desc,c=e.hasMultiplicator,l=e.wasCompleted,f=g(Object(o.useState)(1),2),d=f[0],m=f[1],h=g(Object(o.useState)(!0),2),v=h[0],y=h[1],j=function(e){m(d+e),d+e<=1?y(!0):v&&y(!1)},w=!c&&l;return Object(r.h)("section",{className:"activity"},Object(r.h)("div",{className:"activity__vertical-wrapper ".concat(w?"activity__disabled":"")},Object(r.h)("h1",{className:"activity__name"},t," — ",p(n)),Object(r.h)("p",{className:"activity__desc"},a)),Object(r.h)("div",{className:"activity__horizontal-wrapper"},c?Object(r.h)(s,{className:"activity__counter",decreaseFunc:function(){return j(-1)},increaseFunc:function(){return j(1)},value:d,isDecreaseDisabled:v}):null,Object(r.h)(b,{disabled:w,className:"activity__btn",value:"+",onClick:function(){var e=i()("activities").dispatch,r=i()("time").dispatch,o=i()("cancelation").dispatch,s=n*d;l||(O({name:t,bonusTime:n,desc:a,hasMultiplicator:c}),e("triggerCompletion",{name:t,bonusTime:n,desc:a,hasMultiplicator:c})),r("add",s),o("addCancelation",s),u(s)}})))},w=(n(12),function(){var e=i()("activities").activities;return Object(r.h)("div",{className:"add"},e.map(function(e){var t=e.name,n=e.bonusTime,a=e.desc,i=e.hasMultiplicator,c=e.wasCompleted;return Object(r.h)(j,{name:t,bonusTime:n,desc:a,hasMultiplicator:i,wasCompleted:c})}))});n(13);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(){var e=_(Object(o.useState)(""),2),t=e[0],n=e[1],a=_(Object(o.useState)(!1),2),c=a[0],l=a[1],s=i()("time"),f=s.dispatch,d=s.time,m=d<=0,h=function(e){d>=e?(f("add",-e),u(-e),l(!1)):l(!0)},v=function(e){var r,a,i;e.preventDefault(),r=_(t.replace(/\s+/g," ").replace("-","").trim().split(" "),2),a=r[0],i=r[1],h(i?60*Number(a)+Number(i):Number(a)),n("")};return Object(r.h)("section",{className:"burn"},Object(r.h)("p",null,"Всего"),Object(r.h)("h1",{className:"burn__headline"},p(d)),Object(r.h)("label",{htmlFor:"burnInput"},"Потратить"),Object(r.h)("br",null),Object(r.h)("form",{onSubmit:v,id:"burn"},Object(r.h)("input",{disabled:m,className:"input",type:"text",onKeyPress:function(e){new RegExp(/[0-9]|\s|Enter/,"g").test(e.key)||e.preventDefault()},id:"burnInput",value:t,onChange:function(e){n(e.target.value)},placeholder:"минуты или часы[пробел]минуты"}),Object(r.h)(b,{disabled:c||m,className:"burn__btn",value:"-",onClick:v})),c&&Object(r.h)("p",{className:"burn__error"},"Столько времени нет",Object(r.h)("button",{onClick:function(){f("add",-d),u(-d),l(!1)},className:"burn__alltime"},"Потратить всё время?")))},N=n(4),A=n.n(N),T=(n(14),function(){return Object(r.h)("header",{className:"header"},Object(r.h)("img",{className:"header__logo",src:A.a,alt:"Логотип видосов"}))}),P=(n(15),function(e){var t=e.isHighlighed;return Object(r.h)("div",{className:"dot ".concat(t?"dot__highlighted":"")})}),C=(n(16),function(){var e=i()("isAddPageShown").isAddPageShown;return Object(r.h)("div",{className:"two-dots"},Object(r.h)(P,{isHighlighed:e}),Object(r.h)(P,{isHighlighed:!e}))}),I=(n(17),function(){var e=i()("isAddPageShown"),t=e.dispatch,n=e.isAddPageShown;return Object(r.h)("nav",{className:"nav",onClick:function(){window.scrollTo(0,0),t("togglePage")}},Object(r.h)(C,null),Object(r.h)("p",{className:"nav__text"},n?"Добавить":"Потратить"))}),M=n(5),k=n.n(M),x=function(e){var t=e.time;return Object(r.h)("div",{className:"timer"},t)};n(18);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=function(e){var t=e.newlyAddedTime,n=e.id,a=i()("time").dispatch,c=i()("cancelation").dispatch,l=E(Object(o.useState)(5),2),s=l[0],f=l[1],d=Object(o.useRef)(null),b=p(t,!0),m=function(){d.current.classList.add("cancelation__removal"),setTimeout(function(){return c("remove",n)},575)},h=setInterval(function(){f(s-1)},1e3);return 0===s&&(clearInterval(h),m()),Object(r.h)("div",{ref:d,className:"cancelation",onClick:function(){u(-t),a("add",-t),m()}},Object(r.h)("img",{className:"cancelation__icon",src:k.a,alt:"Не добавлять ".concat(b)}),Object(r.h)("p",{className:"cancelation__time"},"+",b),Object(r.h)(x,{time:s}))},J=(n(19),function(){var e=i()("cancelations").cancelations;return Object(r.h)("div",{className:"cancelations"},e.map(function(e){var t=e.time,n=e.id;return Object(r.h)(D,{newlyAddedTime:t,id:n})}))});n(20);function F(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var H=function(){var e=i()("activities"),t=e.activities,n=e.dispatch,a=i()("penalty"),c=a.penalty,l=a.dispatch,s=i()("time"),f=s.time,d=s.dispatch,m=t.reduce(function(e,t){var n=t.name,r=t.bonusTime,a=t.wasCompleted;return void 0===a||a?e:{penaltyTime:e.penaltyTime+r,uncompleted:[].concat(F(e.uncompleted),[{name:n,bonusTime:r}])}},{penaltyTime:0,uncompleted:[]}),h=m.penaltyTime,v=m.uncompleted,y=c&&v.length>0;return y&&Object(o.useEffect)(function(){d("add",-h),u(-h)},[]),y?Object(r.h)("div",{className:"penalty"},Object(r.h)("section",{className:"penalty__modal"},Object(r.h)("h1",{className:"penalty__headline"},"Ты не выполнил:"),Object(r.h)("ul",{className:"penalty__list"},v.map(function(e){var t=e.name,n=e.bonusTime;return Object(r.h)("li",{className:"penalty__li"},t," — ",p(n))})),Object(r.h)("p",{className:"penalty__fee"},"Штраф: -",p(h)),Object(r.h)("p",{className:"penalty__overrall"},"Осталось: ",p(f)),Object(r.h)(b,{className:"penalty__close",value:"Разъебу сегодня",onClick:function(){n("resetActivities"),l("toggleModal")}}))):null},R=function(){return Object(r.h)("div",null,Object(r.h)(H,null),Object(r.h)(T,null),Object(r.h)(J,null),Object(r.h)(c,null,Object(r.h)(w,null),Object(r.h)(S,null)),Object(r.h)(I,null))},z=n(6);function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var B=function(){var e=JSON.parse(window.localStorage.getItem("activities")),t=[{name:"Говорить",bonusTime:25,desc:"Голос + артикуляция + дикция",hasMultiplicator:!1,wasCompleted:!1},{name:"Английский",bonusTime:25,desc:"За 3 любых сессии",hasMultiplicator:!1,wasCompleted:!1},{name:"Рутинная хуйня",bonusTime:30,desc:"То, что бесит и забирает много времени",hasMultiplicator:!0},{name:"Читать",bonusTime:20,desc:"За примерно час чтения",hasMultiplicator:!0,wasCompleted:!1},{name:"Стартап",bonusTime:20,desc:"Зависит от количества отвеченных вопросов/проверенных гипотез",hasMultiplicator:!0},{name:"Код",bonusTime:15,desc:"Начисление за сделанную тасочку",hasMultiplicator:!0},{name:"Спорт",bonusTime:105,desc:"45 минут кардио",hasMultiplicator:!1,wasCompleted:!1},{name:"Рендерить",bonusTime:20,desc:"За каждый час практики",hasMultiplicator:!0,wasCompleted:!1}];if(!e)return window.localStorage.setItem("activities",JSON.stringify(t)),t;if(function(){if(e.length!==t.length)return!1;for(var n in e){var r=e[n].name!==t[n].name,a=e[n].desc!==t[n].desc,i=e[n].bonusTime!==t[n].bonusTime,c=e[n].hasMultiplicator!==t[n].hasMultiplicator;if(r||a||i||c)return!1}return!0}())return e;var n=t.reduce(function(t,n){var r=e.find(function(e){var t=e.name;return e.wasCompleted&&t===n.name});return[].concat(q(t),r?[K({},n,{wasCompleted:r.wasCompleted})]:[n])},[]);return window.localStorage.setItem("activities",JSON.stringify(n)),n},G=function(){var e=localStorage.getItem("lastOpenDate"),t=(new Date).getDate();return e&&t!=e?(localStorage.setItem("lastOpenDate",t),!0):(localStorage.setItem("lastOpenDate",t),!1)};function Q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=n.n(z)()([function(e){e.on("@init",function(){return{time:l()}}),e.on("add",function(e,t){return{time:e.time+t}})},function(e){e.on("@init",function(){return{isAddPageShown:!0}}),e.on("togglePage",function(e){return{isAddPageShown:!e.isAddPageShown}})},function(e){e.on("@init",function(){return{activities:B()}}),e.on("triggerCompletion",function(e,t){return{activities:e.activities.map(function(e){return e.name===t.name?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}({},t,{wasCompleted:!0}):e})}}),e.on("resetActivities",function(){return localStorage.setItem("activities",null),{activities:B()}})},function(e){e.on("@init",function(){return{cancelations:[]}}),e.on("addCancelation",function(e,t){var n=e.cancelations;return{cancelations:[].concat(Q(n),[{time:t,id:n.length}])}}),e.on("remove",function(e,t){return{cancelations:e.cancelations.filter(function(e){return e.id!==t})}})},function(e){e.on("@init",function(){return{penalty:G()}}),e.on("toggleModal",function(e){return{penalty:!e.penalty}})}]),W=n(3),X=n.n(W),Y=n(7),Z=n.n(Y);n(21);Z.a.install(),Object(r.render)(Object(r.h)(X.a.Provider,{value:V},Object(r.h)(R,null)),document.body,document.body.lastElementChild)}]);