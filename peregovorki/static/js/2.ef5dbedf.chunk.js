(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{119:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=a.a.shape({login:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,homeFloor:a.a.number.isRequired}),i=(a.a.arrayOf(o),a.a.shape({name:a.a.string,floor:a.a.number,maxVisitors:a.a.number,selected:a.a.bool})),c=(a.a.arrayOf(i),a.a.shape({startingDate:a.a.number.isRequired,startingMonth:a.a.number.isRequired})),s=a.a.shape({startingHours:a.a.string.isRequired,endingHours:a.a.string.isRequired,startingMinutes:a.a.string.isRequired,endingMinutes:a.a.string.isRequired}),u=a.a.shape({name:a.a.string.isRequired,users:a.a.arrayOf(o).isRequired,room:i.isRequired,date:c.isRequired,time:s.isRequired,id:a.a.string}),l=(a.a.arrayOf(u),a.a.arrayOf(a.a.number),a.a.shape({floor:a.a.number.isRequired,rooms:a.a.arrayOf(i)}));a.a.arrayOf(l),a.a.objectOf(a.a.string)},120:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(122);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("h2",Object.assign({className:"headline ".concat(t)},a),r)}},121:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(127);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"paragraph ".concat(t)},a),r)}},122:function(e,t,r){},125:function(e,t,r){"use strict";var n=r(3);t.a=function(){return{type:n.i}}},127:function(e,t,r){},134:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a),i=(r(146),function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("button",Object.assign({className:"round-btn ".concat(t)},a),r)});i.defaultProps={className:""},t.a=i},136:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(137);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"grey-paragraph ".concat(t)},a),r)}},137:function(e,t,r){},139:function(e,t,r){"use strict";var n=r(3);t.a=function(e,t){return{type:n.l,month:e,date:t}}},140:function(e,t,r){"use strict";var n=r(29);t.a=function(e){return{type:n.b,id:e}}},141:function(e,t,r){"use strict";var n=r(3);t.a=function(){return{type:n.h}}},142:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a),i=(r(143),function(e){var t=e.children,r=e.className,a=Object(n.a)(e,["children","className"]);return o.a.createElement("button",Object.assign({className:"grey-btn ".concat(r)},a),t)});i.defaultProps={className:""},t.a=i},143:function(e,t,r){},145:function(e,t,r){"use strict";var n=r(35);t.a=function(e){Object(n.a)("events").then(function(t){var r=t.filter(function(t){return t.id!==e});localStorage.setItem("events",JSON.stringify(r))})}},146:function(e,t,r){},156:function(e,t,r){},158:function(e,t,r){},176:function(e,t,r){},178:function(e,t,r){},180:function(e,t,r){},182:function(e,t,r){},185:function(e,t,r){},187:function(e,t,r){},195:function(e,t,r){},197:function(e,t,r){},199:function(e,t,r){},201:function(e,t,r){},203:function(e,t,r){},206:function(e,t,r){},208:function(e,t,r){},210:function(e,t,r){},253:function(e,t,r){"use strict";r.r(t);var n=r(12),a=r(13),o=r(16),i=r(14),c=r(15),s=r(1),u=r.n(s),l=r(17),d=r(126),m=r.n(d),p=r(9),f=r(37),h=r.n(f),g=r(121),b=(r(156),Object(p.c)(function(e){var t=e.avatarUrl,r=e.name,n=e.removeUser,a=(0,e.intl.formatMessage)({id:"participatorCard.label"},{name:r});return u.a.createElement("button",{className:"participator-card",onClick:n,"aria-label":a},u.a.createElement("div",{className:"particitapor-card__image-container"},u.a.createElement("img",{className:"participator-card__avatar",src:t,alt:"".concat(r,"'s avatar")})),u.a.createElement(g.a,{className:"participator-card__paragraph"},r),u.a.createElement("div",{className:"participator-card__close-icon"},u.a.createElement(h.a,{name:"times"})))})),v=r(3),E=function(e){return{type:v.g,id:e}},y=r(18),O=function(e,t,r,n){var a=e.filter(function(e){return!t.some(function(t){return e.id===t.id})}).filter(function(e){return!(e.busyTime.length>0)||e.busyTime.every(function(e){return!!n||function(e){var t=e.startingHours,n=e.startingMinutes,a=e.endingHours,o=e.endingMinutes;return a<=r.startingHours&&o<=r.startingMinutes||t>=r.endingHours&&n>=r.endingMinutes}(e)})});return{type:y.e,payload:a}},j=r(5),N=function(e){return{type:j.d,isError:e<2}},w=function(e,t){return{type:j.a,isError:e>t}},R=(r(119),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderParticipators=function(){var e=r.props,t=e.participators,n=e.removeUser;return t.map(function(e){return u.a.createElement(b,{key:e.id,name:e.login,avatarUrl:e.avatarUrl,removeUser:function(){n(e.id)}})})},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.updateFreeUsers)(e.users,e.participators,e.currentTime,e.editing)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.checkForParticipantsError,r=e.roomIsSelected,n=e.checkForCapacityError,a=e.participators,o=e.maxVisitors;(0,e.updateFreeUsers)(e.users,a,e.currentTime,e.editing),t(a.length),r&&n(a.length,o)}},{key:"render",value:function(){return u.a.createElement("div",null,this.renderParticipators())}}]),t}(s.Component)),k={updateFreeUsers:O,removeUser:E,checkForParticipantsError:N,checkForCapacityError:w},M=Object(l.b)(function(e){return{users:e.usersReducer.users,participators:e.eventsReducer.currentEvent.users,currentTime:e.eventsReducer.currentEvent.time,editing:e.pageReducer.editEventModalOpen}},k)(R),C=r(135),T=function(e){return{type:y.d,payload:e}},_=r(26),x=(r(158),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isError,r=e.className,n=Object(_.a)(e,["isError","className"]);return u.a.createElement("input",Object.assign({type:"text",className:"input ".concat(t?"input--error":""," ").concat(r)},n))}}]),t}(s.Component));x.defaultProps={isError:!1,className:""};var S=x,H=function(e){return{type:y.a,payload:e}},D=function(e){return{type:y.b,payload:e}},F=function(e){return{type:v.b,payload:e}},I=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).resetIndex=function(){(0,r.props.changeIndex)(0)},r.handleEnter=function(){var e=r.props,t=e.addUser,n=e.foundUsers,a=e.highlightedIndex;0!==n.length&&(t(n[a]),n.length-1===a&&r.resetIndex())},r.handleArrowUp=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.changeIndex,o=e.scrollbar;n>0?(a(n-1),o.scrollTop(35*(n-1))):(a(t.length-1),o.scrollToBottom())},r.handleArrowDown=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.changeIndex,o=e.scrollbar;n<=t.length-2?(a(n+1),o.scrollTop(35*n)):(r.resetIndex(),o.scrollToTop())},r.listenToKeypresses=function(e){var t=r.props.setFocused;switch(e.key){case"Enter":e.preventDefault(),r.handleEnter();break;case"ArrowUp":e.preventDefault(),r.handleArrowUp();break;case"ArrowDown":e.preventDefault(),r.handleArrowDown();break;case"Escape":e.preventDefault(),e.target.blur(),t();break;case"Tab":t()}},r.onChange=function(e){var t=r.props.onInputValueChange;r.resetIndex(),e.preventDefault(),t(e.target.value)},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.activeId,n=e.isError,a=e.setFocused,o=e.inputValue,i=e.isAllErrorsShown;return u.a.createElement(S,{onChange:this.onChange,value:o,onKeyDown:this.listenToKeypresses,placeholder:t,"aria-autocomplete":"both","aria-activedescendant":r,isError:n&&i,onFocus:function(){return a(!0)}})}}]),t}(s.Component);I.defaultProps={placeholder:""};var U={setFocused:T,changeIndex:H,onInputValueChange:D,addUser:F},A=Object(l.b)(function(e){return{highlightedIndex:e.dropdownReducer.highlightedIndex,isAllErrorsShown:e.errorReducer.isAllErrorsShown,inputValue:e.dropdownReducer.inputValue,activeId:e.dropdownReducer.activeId,scrollbar:e.dropdownReducer.scrollbar}},U)(I),V=r(0),B=r(160),P=r.n(B),q=r(136),L=(r(176),function(e){var t=e.name,r=e.avatarSrc,n=e.homeFloor,a=e.highlighted,o=e.id,i=e.onClick;return u.a.createElement("div",{className:"dropdown-option ".concat(a?"dropdown-option__active":""),id:o,onClick:i},u.a.createElement("div",{className:"dropdown-option__image-container"},u.a.createElement("img",{className:"dropdown-option__avatar",src:r,alt:"".concat(t)})),u.a.createElement(g.a,{className:"dropdown-option__paragraph ".concat(a?"dropdown-option__highlighted":"")},t," ","\xb7\xa0"),u.a.createElement(q.a,{className:"dropdown-option__grey-paragraph ".concat(a?"dropdown-option__highlighted":"")},u.a.createElement("span",{className:"dropdown-option__floor-number"},n)," ","\u044d\u0442\u0430\u0436"))});L.defaultProps={id:""};var J=L,K=function(e){return{type:y.c,payload:e}},W=(r(178),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderItems=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.addUser,o=e.activeId;return t.map(function(e,t){var r=n===t;return u.a.createElement(J,{key:e.id,name:e.login,homeFloor:e.homeFloor,avatarSrc:e.avatarUrl,highlighted:r,onClick:function(){return a(e)},id:r?o:null})})},r.scrollbarTrackVertical=function(e){var t=e.style,n=e.props,a=r.props.noScrollbar?{display:"none"}:{display:"inline-block",height:"100%",backgroundColor:"#ffffff",width:"22px",right:"0px",top:"0px",boxSizing:"border-box",paddingBottom:"10px"};return u.a.createElement("div",Object.assign({style:Object(V.a)({},t,a)},n))},r.scrollbarThumb=function(e){var t=e.style,n=e.props,a=r.props.noScrollbar?{display:"none"}:{width:"11px",backgroundColor:"#d5dfe9",borderRadius:"5px",marginTop:"5px",marginLeft:"5px"};return u.a.createElement("div",Object.assign({style:Object(V.a)({},t,a)},n))},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getScrollbar)(this.scrollbars)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"autocomplete__menu","aria-selected":"true"},u.a.createElement(P.a,{autoHeight:!0,autoHeightMax:140,renderThumbVertical:this.scrollbarThumb,renderTrackVertical:this.scrollbarTrackVertical,hideTracksWhenNotNeeded:!0,ref:function(t){e.scrollbars=t}},this.renderItems()))}}]),t}(s.Component)),z={getScrollbar:K,addUser:F},Y=Object(l.b)(function(e){return{activeId:e.dropdownReducer.activeId,freeUsers:e.dropdownReducer.freeUsers,highlightedIndex:e.dropdownReducer.highlightedIndex,inputValue:e.dropdownReducer.inputValue}},z)(W),G=(r(180),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).findUsers=function(){var e=r.props,t=e.freeUsers,n=e.inputValue;return t.filter(function(e){return t=e.login,r=n,t.toLowerCase().includes(r.trim().toLowerCase());var t,r})},r.handleClickOutside=function(){var e=r.props,t=e.focused,n=e.setFocused;t&&n(!1)},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.focused,r=e.intl.formatMessage,n=e.isError,a=r({id:"meeting.dropdown.placeholder"}),o=this.findUsers();return u.a.createElement("div",{className:"autocomplete",role:"combobox","aria-expanded":t,"aria-haspopup":"listbox"},u.a.createElement(A,{focused:t,placeholder:a,isError:n,foundUsers:o}),t&&u.a.createElement(Y,{foundUsers:o}))}}]),t}(s.Component)),Q={setFocused:T},X=Object(l.b)(function(e){return{focused:e.dropdownReducer.focused,freeUsers:e.dropdownReducer.freeUsers,inputValue:e.dropdownReducer.inputValue,currentTime:e.eventsReducer.currentEvent.time}},Q)(Object(p.c)(Object(C.a)(G))),Z=(r(182),function(e){var t=e.className,r=e.children,n=Object(_.a)(e,["className","children"]);return u.a.createElement("p",Object.assign({className:"error-text ".concat(t)},n),r)}),$=Object(l.b)(function(e){return{isAllErrorsShown:e.errorReducer.isAllErrorsShown}})(function(e){var t=e.isError,r=e.message,n=e.isAllErrorsShown;return u.a.createElement(s.Fragment,null,t&&n&&u.a.createElement(Z,null,r))}),ee=r(49),te=r(184),re=r(120),ne=r(50),ae=(r(185),function(e){var t=function(t){function r(e){var t;return Object(n.a)(this,r),t=Object(o.a)(this,Object(i.a)(r).call(this,e)),Object(te.enableUniqueIds)(Object(ee.a)(Object(ee.a)(t))),t}return Object(c.a)(r,t),Object(a.a)(r,[{key:"render",value:function(){var t=this.props,r=t.className,n=t.label,a=Object(_.a)(t,["className","label"]);return u.a.createElement("div",{className:r},u.a.createElement("label",{htmlFor:this.nextUniqueId()},u.a.createElement(re.a,{className:"label__headline"},n)),u.a.createElement(e,Object.assign({},a,{id:this.lastUniqueId()})))}}]),r}(u.a.Component);t.defaultProps={className:"",label:""};var r=Object(ne.a)(t);return t.displayName="AddLabel(".concat(r,")"),t}),oe=ae(Object(l.b)(function(e){return{"parti\u0441ipantsError":e.errorReducer.parti\u0441ipantsError,capacityError:e.errorReducer.capacityError,roomIsSelected:e.roomsReducer.roomIsSelected,maxVisitors:e.eventsReducer.currentEvent.room.maxVisitors}})(Object(p.c)(function(e){var t=e.parti\u0441ipantsError,r=e.capacityError,n=e.maxVisitors,a=e.intl.formatMessage,o=e.roomIsSelected,i=a({id:"meeting.dropdown.participantsErrorText"}),c=a({id:"meeting.dropdown.capacityErrorText"},{maxVisitors:n});return u.a.createElement("div",null,u.a.createElement($,{message:i,isError:t}),u.a.createElement($,{message:c,isError:r&&o}),u.a.createElement(X,{isError:r&&(o||t)}),u.a.createElement(M,{maxVisitors:n,roomIsSelected:o}))}))),ie=(r(187),function(e){var t=e.className,r=e.children,n=Object(_.a)(e,["className","children"]);return u.a.createElement("h1",Object.assign({className:"large-headline ".concat(t)},n),r)}),ce=r(189),se=r.n(ce),ue=r(139),le=r(24),de=function(e,t){return{type:le.a,month:e,date:t}},me=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).input=Object(s.createRef)(),r.focus=function(){r.input.current.focus()},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement(S,Object.assign({ref:this.input},this.props))}}]),t}(s.Component),pe=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).now=new Date,r.modifiersStyles={highlightedDate:{color:"#fff",backgroundColor:"#55a8fe",borderRadius:"50%"}},r.updateDate=function(e){var t=r.props,n=t.monthsValue,a=t.updateDate,o=t.changeValue,i=e.getDate(),c=e.getMonth();a(c,i),o(n[c],i)},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,r=e.id,n=e.locale,a=e.months,o=e.daysShort,i=e.labels,c=e.firstDay,s=e.value,l={highlightedDate:new Date(this.now.getFullYear(),t.startingMonth,t.startingDate)};return u.a.createElement(se.a,{component:me,id:r,value:s,dayPickerProps:{locale:n,months:a,labels:i,onDayClick:this.updateDate,weekdaysShort:o,firstDayOfWeek:c,modifiers:l,modifiersStyles:this.modifiersStyles,disabledDays:[{before:this.now}],fromMonth:this.now},inputProps:{onChange:function(e){e.target.value=s},placeholder:""}})}}]),t}(s.Component),fe={updateDate:ue.a,changeValue:de},he=ae(Object(l.b)(function(e){return{date:e.eventsReducer.currentEvent.date,locale:e.dateReducer.locale,value:e.dateReducer.value,labels:e.dateReducer.labels,monthsValue:e.dateReducer.monthsValue,months:e.dateReducer.months,daysShort:e.dateReducer.daysShort,firstDay:e.dateReducer.firstDay}},fe)(pe)),ge=(r(195),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={focused:!1},r.triggerFocus=function(){r.setState(function(e){return{focused:!e.focused}})},r.handleHoursChange=function(e){var t=r.props,n=t.increaseHours,a=t.decreaseHours;"ArrowUp"===e.key?n():"ArrowDown"===e.key&&a()},r.handleMinutesChange=function(e){var t=r.props,n=t.increaseMinutes,a=t.decreaseMinutes;"ArrowUp"===e.key?n():"ArrowDown"===e.key&&a()},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onHoursChange,r=e.onMinutesChange,n=e.hours,a=e.minutes,o=e.timeError,i=e.limitError,c=e.isAllErrorsShown,s=this.state.focused,l=(o||i)&&c;return u.a.createElement("div",{className:"\n          time-input \n          ".concat(s?"time-input--focused":""," \n          ").concat(l?"time-input--error":"","\n        ")},u.a.createElement("input",{type:"text",value:n,onChange:t,className:"time-input__invisible-input",onFocus:this.triggerFocus,onBlur:this.triggerFocus,onKeyDown:this.handleHoursChange}),u.a.createElement("span",{className:"time-input__colon"},":"),u.a.createElement("input",{type:"text",value:a,onChange:r,className:"time-input__invisible-input",onFocus:this.triggerFocus,onBlur:this.triggerFocus,onKeyDown:this.handleMinutesChange}))}}]),t}(s.Component)),be=ae(Object(l.b)(function(e){return{timeError:e.errorReducer.timeError,limitError:e.errorReducer.limitError,isAllErrorsShown:e.errorReducer.isAllErrorsShown}})(ge)),ve=function(e,t){return{type:t,payload:e}},Ee=function(e){return{type:e,payload:""}},ye=function(e,t,r,n,a){var o=Number(e);return o<n&&o>=r?o+=a:o=r,(o=o.toString())<10&&(o="0".concat(o)),{type:t,payload:o}},Oe=function(e,t,r,n){var a=Number(e);return a>=r&&(a-=n),(a=a.toString())<10&&(a="0".concat(a)),{type:t,payload:a}},je=function(e){var t=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=Number(e[r])}),t}(e),r=t.startingHours,n=t.endingHours,a=t.startingMinutes,o=t.endingMinutes;return{type:j.g,isError:r>n||r===n&&a>o}},Ne=function(e,t){return{type:j.b,isError:Number(e)<t}},we=(r(197),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).onChangeTime=function(e,t,n){var a=Number(t),o=r.props,i=o.updateTime,c=o.resetTime;!Number.isNaN(a)&&(t.length>2||a>n?c(e):i(t,e))},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.checkForTimeError,r=e.checkForLimitError,n=e.time;r(n.startingHours,8),t(n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.time,n=t.increaseTime,a=t.decreaseTime,o=t.intl.formatMessage,i=o({id:"meeting.timeSetter.startLabel"}),c=o({id:"meeting.timeSetter.endLabel"});return u.a.createElement("div",{className:"time-setter"},u.a.createElement(be,{label:i,className:"time-setter__input",hours:r.startingHours,minutes:r.startingMinutes,increaseHours:function(){n(r.startingHours,v.o,8,22,1)},increaseMinutes:function(){n(r.startingMinutes,v.p,0,55,5)},decreaseHours:function(){a(r.startingHours,v.o,9,1)},decreaseMinutes:function(){a(r.startingMinutes,v.p,5,5)},onHoursChange:function(t){e.onChangeTime(v.o,t.target.value,22)},onMinutesChange:function(t){e.onChangeTime(v.p,t.target.value,59)}}),u.a.createElement("span",{className:"time-setter__space"},"\u25ac"),u.a.createElement(be,{label:c,className:"time-setter__input",hours:r.endingHours,minutes:r.endingMinutes,increaseHours:function(){n(r.endingHours,v.m,8,22,1)},increaseMinutes:function(){n(r.endingMinutes,v.n,0,55,5)},decreaseHours:function(){a(r.endingHours,v.m,9,1)},decreaseMinutes:function(){a(r.endingMinutes,v.n,5,5)},onHoursChange:function(t){e.onChangeTime(v.m,t.target.value,22)},onMinutesChange:function(t){e.onChangeTime(v.n,t.target.value,59)}}))}}]),t}(s.Component)),Re={updateTime:ve,resetTime:Ee,increaseTime:ye,decreaseTime:Oe,checkForTimeError:je,checkForLimitError:Ne},ke=Object(l.b)(function(e){return{time:e.eventsReducer.currentEvent.time}},Re)(Object(p.c)(we)),Me=(r(199),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).containerStyles={display:"flex"},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=(0,e.intl.formatMessage)({id:"meeting.timeSetter.dateLabel"});return u.a.createElement("div",{className:"date-and-time ".concat(t)},u.a.createElement(he,{label:r}),u.a.createElement(ke,null))}}]),t}(s.Component));Me.defaultProps={className:""};var Ce=Object(p.c)(Me),Te=r(6),_e=(r(201),Object(p.c)(function(e){var t=e.freeTime,r=e.roomName,n=e.floorNumber,a=e.selected,o=e.onCardSelect,i=e.onCardDeselect,c=(0,e.intl.formatMessage)({id:"roomCard.roomInfo"},{roomName:r,floorNumber:n});return u.a.createElement("button",{className:"room-card ".concat(a?"room-card--selected":""),onClick:a?i:o},u.a.createElement("span",{className:"room-card__inner"},u.a.createElement(re.a,{className:"room-card__headline"},"".concat(t.startingHours,":").concat(t.startingMinutes),"\u2013","".concat(t.endingHours,":").concat(t.endingMinutes)),u.a.createElement(g.a,{className:"room-card__paragraph"},c),a&&u.a.createElement("div",null,u.a.createElement(h.a,{name:"times",className:"room-card__close-icon"}))))})),xe=r(140),Se=function(e){return{type:v.k,payload:e}},He=r(141),De=function(e){return{type:j.e,isError:!e}},Fe=(r(203),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getThisRoomEventsTime=function(e){var t=r.props,n=t.editing,a=t.currentEventId,o=t.date,i=t.events.filter(function(e){return e.date.startingDate===o.startingDate&&e.date.startingMonth===o.startingMonth}).map(function(t){return t.room.id===e.id?n?t.id!==a?t.time:null:t.time:null});return i.filter(function(e){return null!==e})},r.sortEventsByTime=function(e){if(e.length<2)return e;var t=e[Math.floor(Math.random()*e.length)],n=e.filter(function(e){return e.endingHours<=t.startingHours&&e.endingMinutes<=t.startingMinutes}),a=e.filter(function(e){return e.startingHours>=t.endingHours&&e.startingMinutes>=t.endingMinutes});return Object(Te.a)(r.sortEventsByTime(n)).concat([t],Object(Te.a)(r.sortEventsByTime(a)))},r.getConditions=function(e,t,r,n,a,o,i,c){return(e>a||e==a&&t>=o)&&(r>i||r==i&&n>=c)},r.getFreeTime=function(e){var t=r.props,n=t.currentEventTime,a=t.openTime,o=t.closeTime,i=r.getThisRoomEventsTime(e);if(i.length<1)return{startingHours:a.hours,startingMinutes:a.minutes,endingHours:o.hours,endingMinutes:o.minutes};for(var c=r.sortEventsByTime(i),s=0;s<c.length;s++){var u=void 0,l=void 0,d=void 0,m=void 0,p=r.getConditions(n.startingHours,n.startingMinutes,c[s].startingHours,c[s].startingMinutes,a.hours,a.minutes,n.endingHours,n.endingMinutes),f=r.getConditions(n.startingHours,n.startingMinutes,o.hours,o.minutes,c[s].endingHours,c[s].endingMinutes,n.endingHours,n.endingMinutes),h=!!c[s+1]&&r.getConditions(n.startingHours,n.startingMinutes,c[s+1].startingHours,c[s+1].startingMinutes,c[s].endingHours,c[s].endingMinutes,n.endingHours,n.endingMinutes);if(p&&!c[s-1]&&(u=a.hours<10?"0".concat(a.hours):a.hours,l=a.minutes,d=c[s].startingHours,m=c[s].startingMinutes),f&&!c[s+1]&&(u=c[s].endingHours,l=c[s].endingMinutes,d=o.hours,m=o.minutes),h&&(u=c[s].endingHours,l=c[s].endingMinutes,d=c[s+1].startingHours,m=c[s+1].startingMinutes),void 0!==u)return{startingHours:u,startingMinutes:l,endingHours:d,endingMinutes:m}}},r.renderSelectedRoom=function(){var e=r.props,t=e.rooms,n=e.resetRoom,a=e.triggerSelected,o=t.find(function(e){return e.selected}),i=r.getFreeTime(o);return i?u.a.createElement(_e,{key:o.id,freeTime:i,roomName:o.name,floorNumber:o.floor,selected:o.selected,onCardDeselect:function(e){e.stopPropagation(),a(o.id),n()}}):null},r.getRoomsToRender=function(){var e=r.props,t=e.rooms,n=e.currentEventUsers,a=t.filter(function(e){return function(){return n.length<=e.maxVisitors}?e:null});if(n.length>0){var o=n.map(function(e){return e.homeFloor});return function(e,t){if(e.length<2)return e;var r=e.filter(function(e){return e.floor===t}),n=e.filter(function(e){return e.floor>t}),a=e.filter(function(e){return e.floor<t});return Object(Te.a)(r).concat(Object(Te.a)(a),Object(Te.a)(n))}(a,function(){for(var e=o.sort(),t=e[0],r=0,n=1,a=0;a<e.length;a++)e[a]===t?r++:e[a]===e[a+1]&&++n>r&&(t=e[a],r=n,n=1);return t}())}return a},r.renderRooms=function(){var e=r.props,t=e.setRoom,n=e.triggerSelected,a=r.getRoomsToRender(),o=0;return a.map(function(e){var a=r.getFreeTime(e);return a&&o<5?(o++,u.a.createElement(_e,{key:e.id,freeTime:a,roomName:e.name,floorNumber:e.floor,selected:e.selected,onCardSelect:function(){t(e),n(e.id)}})):null})},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props;(0,e.checkForRoomError)(e.roomIsSelected)}},{key:"render",value:function(){var e=this.props,t=e.roomIsSelected,r=e.className,n=e.roomError,a=e.intl.formatMessage,o=a({id:"meeting.roomCards.selectedHeadline"}),i=a({id:"meeting.roomCards.unselectedHeadline"}),c=a({id:"meeting.roomCards.errorText"});return u.a.createElement("section",{className:"room-cards ".concat(r)},u.a.createElement(re.a,{className:"room-cards__headline",tabIndex:"0"},t?o:i),u.a.createElement($,{message:c,isError:n}),u.a.createElement("div",null,t?this.renderSelectedRoom():this.renderRooms()))}}]),t}(s.Component));Fe.defaultProps={className:""};var Ie={triggerSelected:xe.a,setRoom:Se,resetRoom:He.a,checkForRoomError:De},Ue=Object(l.b)(function(e){return{rooms:e.roomsReducer.rooms,roomIsSelected:e.roomsReducer.roomIsSelected,roomError:e.errorReducer.roomError,events:e.eventsReducer.events,currentEventTime:e.eventsReducer.currentEvent.time,currentEventUsers:e.eventsReducer.currentEvent.users,closeTime:e.pageReducer.closeTime,openTime:e.pageReducer.openTime,editing:e.pageReducer.editEventModalOpen,currentEventId:e.eventsReducer.currentEvent.id,date:e.eventsReducer.currentEvent.date}},Ie)(Object(p.c)(Fe)),Ae=r(142),Ve=r(39),Be=r(205),Pe=r(10),qe=r(35),Le=function(e,t){Object(qe.a)("events").then(function(r){localStorage.setItem("events",JSON.stringify(Object(Te.a)(r).concat([Object(V.a)({},e,{id:t})])))})},Je=r(36),Ke=function(e){var t=Object(Be.time)();return function(r){Le(e,t),r(function(e){return{type:v.a,id:e}}(t)),r(Object(Je.a)(Pe.d))}},We=r(145),ze=function(e,t){return new Promise(function(e){e(Object(We.a)(t))}).then(function(){Le(e,t)})},Ye=function(e,t){return function(r){ze(e,t),r(function(e,t){return{type:v.e,id:e,updatedEvent:t}}(t,e))}},Ge=r(125),Qe=function(){return{type:j.f}},Xe=r(19),Ze=function(e,t){Object(qe.a)("users").then(function(r){return r.map(function(r){return e.some(function(e){return e.id===r.id})?Object(V.a)({},r,{busyTime:Object(Te.a)(r.busyTime).concat([t])}):r})}).then(function(e){localStorage.setItem("users",JSON.stringify(e))})},$e=function(e,t){return function(r){Ze(e,t),r(function(e,t){return{type:Xe.c,payload:{users:e,busyTime:t}}}(e,t))}},et=(r(206),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).checkForErrors=function(){var e=r.props,t=e.nameError,n=e.parti\u0441ipantsError,a=e.roomError,o=e.capacityError,i=e.timeError;return t||n||a||o||i},r.handleCreate=function(){var e=r.props,t=e.createEvent,n=e.triggerModal,a=e.showAllErrors,o=e.currentEvent,i=e.updateUserBusyTime;r.checkForErrors()?a():(t(o),i(o.users,o.time),n(Pe.a))},r.handleEdit=function(){var e=r.props,t=e.editEvent,n=e.triggerModal,a=e.currentEvent,o=e.showAllErrors,i=e.resetValues;r.checkForErrors()?o():(t(a,a.id),n(Pe.c),$e(a.users,a.time),i())},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCancel,r=e.onDelete,n=e.edit,a=e.intl.formatMessage,o=e.breakpoint,i=a({id:"meeting.bottomBtns.cancelBtnText"}),c=a({id:"meeting.bottomBtns.deleteBtnText"}),l=a({id:"meeting.bottomBtns.saveBtnText"}),d=a({id:"meeting.bottomBtns.createBtnText"});return u.a.createElement("div",{className:"bottom-btns"},u.a.createElement(Ae.a,{onClick:t},i),n?u.a.createElement(s.Fragment,null,window.innerWidth>o&&u.a.createElement(Ae.a,{onClick:r,className:"bottom-btns__delete-btn"},c),u.a.createElement(Ve.a,{text:l,onClick:this.handleEdit,className:"bottom-btns__save-btn"})):u.a.createElement(Ve.a,{text:d,onClick:this.handleCreate,className:"bottom-btns__submit-btn"}))}}]),t}(s.Component)),tt={createEvent:Ke,editEvent:Ye,triggerModal:Je.a,resetValues:Ge.a,showAllErrors:Qe,updateUserBusyTime:$e},rt=Object(l.b)(function(e){return{breakpoint:e.pageReducer.mobileBreakpoint,currentEvent:e.eventsReducer.currentEvent,nameError:e.errorReducer.nameError,"parti\u0441ipantsError":e.errorReducer.parti\u0441ipantsError,roomError:e.errorReducer.roomError,capacityError:e.errorReducer.capacityError,timeError:e.errorReducer.timeError}},tt)(Object(p.c)(et)),nt=(r(208),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).mobileDeleteBtnStyles={width:"100%",backgroundColor:"#fff",color:"#ff3333",textAlign:"center",height:"60px",fontFamily:"TextBook, sans-serif",fontWeight:"normal",fontSize:"17px",cursor:"pointer",border:"none",transition:".15s ease-in-out",outline:"none",":focus,:active":{color:"#f00"}},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.onClick,n=e.className;return u.a.createElement("button",{className:"delete-btn ".concat(n),onClick:r},t)}}]),t}(s.Component));nt.defaultProps={className:""};var at=function(e){return{type:v.c,payload:e}},ot=function(e){return{type:j.c,isError:!e}},it=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleChange=function(e){(0,r.props.setEventName)(e.target.value)},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props;(0,e.checkForNameError)(e.eventName)}},{key:"render",value:function(){var e=this.props,t=e.eventName,r=e.nameError,n=e.intl.formatMessage,a=e.isAllErrorsShown,o=(e.setEventName,e.checkForNameError,Object(_.a)(e,["eventName","nameError","intl","isAllErrorsShown","setEventName","checkForNameError"])),i=n({id:"meeting.eventNameSetter.errorText"});return u.a.createElement("div",null,u.a.createElement($,{message:i,isError:r}),u.a.createElement(S,Object.assign({value:t,isError:r&&a,onChange:this.handleChange},o)))}}]),t}(s.Component);it.defaultProps={placeholder:""};var ct={setEventName:at,checkForNameError:ot},st=ae(Object(l.b)(function(e){return{eventName:e.eventsReducer.currentEvent.name,nameError:e.errorReducer.nameError,isAllErrorsShown:e.errorReducer.isAllErrorsShown}},ct)(Object(p.c)(it))),ut=r(134),lt=Object(p.c)(function(e){var t=e.intl.formatMessage,r=Object(_.a)(e,["intl"]),n=t({id:"closeBtnAriaLabel"});return u.a.createElement(ut.a,Object.assign({},r,{"aria-label":n}),u.a.createElement(h.a,{name:"times"}))}),dt=(r(210),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).closeModal=function(){var e=r.props,t=e.edit,n=e.triggerModal,a=e.resetValues;t?(n(Pe.c),a()):n(Pe.a)},r.handleDelete=function(){(0,r.props.triggerModal)(Pe.b)},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.edit,n=e.intl.formatMessage,a=e.breakpoint,o=n({id:"meeting.eventNameSetter.placeholder"}),i=n({id:"meeting.eventNameSetter.label"}),c=n({id:"meeting.dropdown.placeholder"}),s=n({id:"meeting.dropdown.label"}),l=n({id:"meeting.edit.deleteBtnText"});return u.a.createElement(m.a,null,u.a.createElement("section",{className:"meeting"},u.a.createElement("div",{className:"meeting__inner"},u.a.createElement("div",{className:"meeting-section"},u.a.createElement(ie,{className:"meeting__headline"},t)),u.a.createElement("div",{className:"meeting-section"},u.a.createElement(st,{label:i,placeholder:o,className:"meeting-section__subsection"}),u.a.createElement(Ce,{className:"meeting-section__subsection"}),u.a.createElement(lt,{className:"meeting__close-btn",onClick:this.closeModal})),u.a.createElement("div",{className:"meeting-section"},u.a.createElement(oe,{label:s,placeholder:c,className:"meeting-section__subsection"}),u.a.createElement(Ue,{className:"meeting-section__subsection"})),window.innerWidth<=a&&r&&u.a.createElement(nt,{text:l,onClick:this.handleDelete,className:"meeting__delete-btn"})),u.a.createElement(rt,{onCancel:this.closeModal,onDelete:this.handleDelete,edit:r})))}}]),t}(s.Component)),mt={triggerModal:Je.a,resetValues:Ge.a};t.default=Object(l.b)(function(e){return{edit:e.pageReducer.editEventModalOpen,breakpoint:e.pageReducer.mobileBreakpoint}},mt)(Object(p.c)(dt))}}]);
//# sourceMappingURL=2.ef5dbedf.chunk.js.map