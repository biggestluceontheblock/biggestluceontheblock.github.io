(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{120:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o=r.a.shape({login:r.a.string.isRequired,avatarUrl:r.a.string.isRequired,homeFloor:r.a.number.isRequired}),i=(r.a.arrayOf(o),r.a.shape({name:r.a.string,floor:r.a.number,maxVisitors:r.a.number,selected:r.a.bool})),c=(r.a.arrayOf(i),r.a.shape({startingDate:r.a.number.isRequired,startingMonth:r.a.number.isRequired})),s=r.a.shape({startingHours:r.a.string.isRequired,endingHours:r.a.string.isRequired,startingMinutes:r.a.string.isRequired,endingMinutes:r.a.string.isRequired}),l=r.a.shape({name:r.a.string.isRequired,users:r.a.arrayOf(o).isRequired,room:i.isRequired,date:c.isRequired,time:s.isRequired,id:r.a.string}),u=(r.a.arrayOf(l),r.a.arrayOf(r.a.number),r.a.shape({floor:r.a.number.isRequired,rooms:r.a.arrayOf(i)}));r.a.arrayOf(u),r.a.objectOf(r.a.string)},121:function(e,t,a){"use strict";var n=a(26),r=a(1),o=a.n(r);a(123);t.a=function(e){var t=e.className,a=e.children,r=Object(n.a)(e,["className","children"]);return o.a.createElement("h2",Object.assign({className:"headline ".concat(t)},r),a)}},122:function(e,t,a){"use strict";var n=a(26),r=a(1),o=a.n(r);a(128);t.a=function(e){var t=e.className,a=e.children,r=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"paragraph ".concat(t)},r),a)}},123:function(e,t,a){},128:function(e,t,a){},135:function(e,t,a){"use strict";var n=a(26),r=a(1),o=a.n(r),i=(a(147),function(e){var t=e.className,a=e.children,r=Object(n.a)(e,["className","children"]);return o.a.createElement("button",Object.assign({className:"round-btn ".concat(t)},r),a)});i.defaultProps={className:""},t.a=i},137:function(e,t,a){"use strict";var n=a(26),r=a(1),o=a.n(r);a(138);t.a=function(e){var t=e.className,a=e.children,r=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"grey-paragraph ".concat(t)},r),a)}},138:function(e,t,a){},140:function(e,t,a){"use strict";var n=a(3);t.a=function(e,t){return{type:n.l,month:e,date:t}}},141:function(e,t,a){"use strict";var n=a(29);t.a=function(e){return{type:n.b,id:e}}},142:function(e,t,a){"use strict";var n=a(3);t.a=function(){return{type:n.h}}},147:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){var n=a(154),r=a(125),o=a(131),i=a(134),c=a(156),s=a(155),l=a(222);e.exports=n,e.exports.DateUtils=r,e.exports.LocaleUtils=o,e.exports.ModifiersUtils=i,e.exports.WeekdayPropTypes=c.propTypes,e.exports.NavbarPropTypes=s.propTypes,e.exports.PropTypes=l},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierPropType=void 0;var n,r=a(2),o=(n=r)&&n.__esModule?n:{default:n};var i={localeUtils:o.default.shape({formatMonthTitle:o.default.func,formatWeekdayShort:o.default.func,formatWeekdayLong:o.default.func,getFirstDayOfWeek:o.default.func}),range:o.default.shape({from:o.default.instanceOf(Date),to:o.default.instanceOf(Date)}),after:o.default.shape({after:o.default.instanceOf(Date)}),before:o.default.shape({before:o.default.instanceOf(Date)})};t.ModifierPropType=o.default.oneOfType([i.after,i.before,i.range,o.default.func,o.default.array]);t.default=i},223:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){},229:function(e,t,a){},231:function(e,t,a){},233:function(e,t,a){},235:function(e,t,a){},237:function(e,t,a){},239:function(e,t,a){},241:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){},251:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),o=a(16),i=a(14),c=a(15),s=a(1),l=a.n(s),u=a(17),d=a(9),m=a(136),f=a(26),p=a(37),h=a.n(p),g=a(135),v=(a(219),function(e){var t=e.rotation,a=e.className,n=Object(f.a)(e,["rotation","className"]);return l.a.createElement(g.a,Object.assign({className:"round-btn--arrow ".concat(a)},n),"left"===t?l.a.createElement(h.a,{name:"chevron-left",style:{position:"relative",right:"1px"}}):"right"===t?l.a.createElement(h.a,{name:"chevron-right",style:{position:"relative",left:"1px"}}):void 0)});v.defaultProps={className:""};var b=v,y=a(221),O=a.n(y),E=a(24),j=function(e,t){return{type:E.d,newMonth:e,newDate:t}},D=function(){return{type:E.c}},N=(a(223),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).modifiersStyles={highlightedDate:{color:"#fff",backgroundColor:"#55a8fe",borderRadius:"50%"}},a.updateDate=function(e){var t=a.props,n=t.updateCurrentDate,r=t.updateBtnState,o=e.getDate();n(e.getMonth(),o),r()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.month,n=e.locale,r=e.months,o=e.daysShort,i=e.labels,c=e.firstDay,s=new Date,u={highlightedDate:new Date(s.getFullYear(),a,t)};return l.a.createElement("div",{className:"calendar"},l.a.createElement(O.a,{locale:n,months:r,weekdaysShort:o,firstDayOfWeek:c,labels:i,onDayClick:this.updateDate,modifiers:u,modifiersStyles:this.modifiersStyles,disabledDays:[{before:s}],fromMonth:s}))}}]),t}(s.Component)),R={updateCurrentDate:j,updateBtnState:D},k=Object(u.b)(function(e){return{date:e.dateReducer.date,month:e.dateReducer.month,locale:e.dateReducer.locale,months:e.dateReducer.months,daysShort:e.dateReducer.daysShort,labels:e.dateReducer.labels,firstDay:e.dateReducer.firstDay}},R)(N),w=a(121),M=a(140),C=function(){return{type:E.b}},T=(a(225),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleClickOutside=function(){var e=a.props,t=e.triggerCalendar;e.calendarVisible&&t()},a.getDate=function(e,t){var n,r=a.props,o=r.intl.formatMessage,i=r.days,c=r.monthsShort,s=o({id:"datePicker.todayMsg"}),l=o({id:"datePicker.tomorrowMsg"}),u=new Date,d=u.getDate(),m=u.getMonth(),f=new Date(u.getFullYear(),t,e).getDay(),p=new Date(u.getFullYear(),m,d+1).getDate();switch(e){case d:m===t&&(n=s);break;case p:n=l;break;default:n=i[f]}return"".concat(e," ").concat(c[t]," \xb7 ").concat(n)},a.handleNext=function(){var e=a.props,t=e.updateBtnState,n=e.date,r=e.month,o=e.updateNewEventDate,i=e.updateCurrentDate;new Date((new Date).getFullYear(),r+1,0).getDate()===n?(i(r+1,1),o(r+1,1)):(i(r,n+1),o(r,n+1)),t()},a.handlePrev=function(){var e=a.props,t=e.updateBtnState,n=e.date,r=e.month,o=e.updateNewEventDate,i=e.updateCurrentDate,c=new Date((new Date).getFullYear(),r,0).getDate();new Date((new Date).getFullYear(),r,1).getDate()===n?(i(r-1,c),o(r-1,c)):(i(r,n-1),o(r,n-1)),t()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.month,n=e.prevDayBtnDisabled,r=e.calendarVisible,o=e.triggerCalendar,i=e.intl.formatMessage,c=i({id:"datePicker.rightArrowBtnLabel"}),s=i({id:"datePicker.rightArrowBtnLabel"});return l.a.createElement("div",null,l.a.createElement("div",{className:"date-picker"},l.a.createElement(b,{rotation:"left",disabled:n,onClick:this.handlePrev,className:"date-picker__btn-left","aria-label":s}),l.a.createElement(w.a,{className:"date-picker__headline",onClick:o},this.getDate(t,a)),l.a.createElement(b,{rotation:"right",onClick:this.handleNext,className:"date-picker__btn-right","aria-label":c})),r&&l.a.createElement(k,{triggerCalendar:o}))}}]),t}(s.Component)),S={updateBtnState:D,updateNewEventDate:M.a,updateCurrentDate:j,triggerCalendar:C},_=Object(u.b)(function(e){return{date:e.dateReducer.date,month:e.dateReducer.month,prevDayBtnDisabled:e.dateReducer.prevDayBtnDisabled,calendarVisible:e.dateReducer.calendarVisible,locale:e.dateReducer.locale,days:e.dateReducer.days,monthsShort:e.dateReducer.monthsShort}},S)(Object(d.c)(Object(m.a)(T))),x=(a(120),a(122)),L=(a(227),function(e){var t=e.hours,a=e.lessThanTwoDigitHours;return l.a.createElement(x.a,{className:"time ".concat(a?"time--with-offset":"")},t,":00")}),A=(a(229),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderTimeStripes=function(){return a.props.timeStripeArray.map(function(e){return l.a.createElement(L,{hours:e,key:e,lessThanTwoDigitHours:e<10})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.timeStripeArray.slice(-1)[0],t={width:"".concat(100*e+105,"px")};return l.a.createElement("div",{className:"timeline",style:t},this.renderTimeStripes())}}]),t}(s.Component)),H=Object(u.b)(function(e){return{timeStripeArray:e.mainContentReducer.timeStripeArray}})(A),P=function(e){return l.a.createElement(g.a,e,l.a.createElement(h.a,{name:"pencil"}))},q=(a(231),Object(d.c)(function(e){var t=e.users,a=e.intl.formatMessage,n=t[0],r=a({id:"tooltipParticipators.remainingParticipators"},{remainingUsersLength:t.length-1});return l.a.createElement("div",{className:"tooltip-participators"},l.a.createElement("div",{className:"tooltip-participators__image-wrapper"},l.a.createElement("img",{src:n.avatarUrl,alt:n.login,className:"tooltip-participators__image"})),l.a.createElement(x.a,null,n.login,"\xa0",l.a.createElement("span",{className:"tooltip-participators__grey-text"},r)))})),V=(a(233),function(e){var t=e.name,a=e.roomName,n=e.date,r=e.time,o=e.users,i=e.openEditModal,c=e.style;return l.a.createElement("div",{className:"tooltip",style:c},l.a.createElement(P,{className:"tooltip__edit-btn",onClick:i}),l.a.createElement(w.a,{className:"tooltip__headline"},t),l.a.createElement(x.a,{className:"tooltip__paragraph"},n,","," ",r," ","\xb7"," ",a),l.a.createElement(q,{users:o}))}),B=(a(235),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={tooltipOpened:!1,tooltipTop:0,tooltipLeft:0},a.handleClickOutside=function(){a.setState({tooltipOpened:!1})},a.triggerTooltip=function(){a.setState(function(e){return{tooltipOpened:!e.tooltipOpened}})},a.getTooltipPosition=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left-220,r=e.clientY-t.top;a.setState({tooltipTop:r,tooltipLeft:n})},a.onEventClick=function(e){a.triggerTooltip(),a.getTooltipPosition(e)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.roomName,n=e.users,r=e.time,o=e.date,i=e.openEditModal,c=e.width,s=e.offsetLeft,u=this.state,d=u.tooltipOpened,m=u.tooltipTop,f=u.tooltipLeft,p={width:"".concat(c,"px"),marginLeft:"".concat(s,"px")},h={top:"".concat(m,"px"),left:"".concat(f,"px")};return l.a.createElement("div",{className:"event ".concat(d?"event--selected":""),style:p,onClick:this.onEventClick},d&&l.a.createElement(V,{style:h,name:t,roomName:a,users:n,openEditModal:i,date:o,time:r,focus:d}))}}]),t}(s.PureComponent)),F=Object(m.a)(B),U=a(36),W=a(3),Y=function(e){return{type:W.j,payload:e}},G=a(141),J=a(142),X=a(10),I=(a(237),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getWidth=function(){var e=a.props,t=e.openingHours,n=e.closingHours;return"".concat(155*(n-t),"px")},a.getEventDate=function(e){var t=a.props.monthsValue,n=e.startingDate,r=e.startingMonth;return"".concat(n," ").concat(t[r])},a.getEventTime=function(e){var t=e.startingHours,a=e.startingMinutes,n=e.endingHours,r=e.endingMinutes;return"".concat(t,":").concat(a," \u2013 ").concat(n,":").concat(r)},a.getEventOffsetLeft=function(e,t,a){return 8===Number(e)?10:155*(e-a)+Number(t/60*155)},a.getEventWidth=function(e){var t=e.startingHours,a=e.startingMinutes,n=e.endingHours,r=e.endingMinutes;return 8===Number(t)?155*(n-t)+(r/60*155-a/60*155)-10:155*(n-t)+(r/60*155-a/60*155)},a.openEditModal=function(e){var t=a.props,n=t.setEventForEditing,r=t.triggerModal,o=t.triggerSelected;(0,t.resetRoom)(),n(e),o(e.room.id),r(X.c)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.room,n=t.events,r=t.openingHours,o=t.closingHours,i=this.getWidth(r,o);return l.a.createElement("div",{className:"event-row",style:{width:i}},n.map(function(t){var n=e.getEventOffsetLeft(t.time.startingHours,t.time.startingMinutes,r),o=e.getEventWidth(t.time),i=e.getEventDate(t.date),c=e.getEventTime(t.time);return l.a.createElement(F,{key:t.id,name:t.name,roomName:a.name,users:t.users,openEditModal:function(){e.openEditModal(t)},offsetLeft:n,width:o,date:i,time:c})}))}}]),t}(s.Component)),z={triggerModal:U.a,setEventForEditing:Y,triggerSelected:G.a,resetRoom:J.a},K=Object(u.b)(function(e){return{openingHours:e.pageReducer.openTime.hours,closingHours:e.pageReducer.closeTime.hours,monthsValue:e.dateReducer.monthsValue}},z)(I),Q=(a(239),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderEventRows=function(){var e=a.props,t=e.rooms,n=e.events,r=e.displayedDate,o=e.displayedMonth;return t.map(function(e){var t=n.filter(function(t){return t.room.id===e.id&&t.date.startingDate===r&&t.date.startingMonth===o});return l.a.createElement(K,{room:e,events:t,key:e.id})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"event-group"},this.renderEventRows())}}]),t}(s.Component)),Z=a(35),$=function(){return function(e){Object(Z.a)("events").then(function(t){e(function(e){return{type:W.f,payload:e}}(t))})}},ee=(a(241),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.loadEvents)()}},{key:"render",value:function(){var e=this.props,t=e.rearrangedRooms,a=e.events,n=e.date,r=e.month;return l.a.createElement("div",{className:"events"},t.map(function(e){return l.a.createElement(Q,{displayedDate:n,displayedMonth:r,rooms:e.rooms,events:a,key:e.floor})}))}}]),t}(s.Component)),te={loadEvents:$},ae=Object(u.b)(function(e){return{month:e.dateReducer.month,date:e.dateReducer.date,rearrangedRooms:e.mainContentReducer.rearrangedRooms,events:e.eventsReducer.events}},te)(ee),ne=(a(243),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={clicked:!1},a.timeTable=Object(s.createRef)(),a.shouldUseDragging=function(){var e=!!window.MSInputMethodContext&&!!document.documentMode,t=navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome");return!e&&!t},a.triggerClicked=function(){var e=a.state.clicked,t=a.timeTable.current;a.setState(function(e){return{clicked:!e.clicked}}),t.style.cursor=e?"grab":"grabbing"},a.handleDrag=function(e){var t=a.state.clicked,n=a.timeTable.current;e.preventDefault(),t&&(n.scrollLeft=e.movementX<0?n.scrollLeft+20:n.scrollLeft-20)},a.handleScroll=function(e){var t=a.timeTable.current;e.preventDefault(),e.deltaY>0?t.scrollLeft+=20:t.scrollLeft-=20},a.move=function(){var e=a.timeTable.current;a.shouldUseDragging()?(e.addEventListener("mousedown",a.triggerClicked),e.addEventListener("mouseup",a.triggerClicked),e.addEventListener("mousemove",a.handleDrag)):e.addEventListener("wheel",a.handleScroll)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.move()}},{key:"render",value:function(){return l.a.createElement("div",{className:"time-table"},l.a.createElement("div",{className:"time-table__inner",ref:this.timeTable},l.a.createElement(H,null),l.a.createElement(ae,null)))}}]),t}(s.Component)),re=(a(245),Object(d.c)(function(e){var t=e.name,a=e.maxVisitors,n=(0,e.intl.formatMessage)({id:"roomName.visitorsLimit"},{maxVisitors:a});return l.a.createElement("div",{className:"room-name"},l.a.createElement(w.a,{className:"room-name__headline"},t),l.a.createElement(x.a,{className:"room-name__paragraph"},n))})),oe=a(137),ie=(a(247),Object(d.c)(function(e){var t=e.floor,a=e.rooms,n=(0,e.intl.formatMessage)({id:"roomGroup.floorName"},{floor:t});return l.a.createElement("div",{className:"room-group"},l.a.createElement(oe.a,{className:"room-group__floor-name"},n),a.map(function(e){return l.a.createElement(re,{name:e.name,key:e.id,maxVisitors:e.maxVisitors})}))})),ce=(a(249),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderRoomGroups=function(){return a.props.rearrangedRooms.map(function(e){return l.a.createElement(ie,{rooms:e.rooms,floor:e.floor,key:e.floor})})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"rooms"},this.renderRoomGroups())}}]),t}(s.Component)),se=Object(u.b)(function(e){return{rearrangedRooms:e.mainContentReducer.rearrangedRooms}})(ce),le=a(33),ue=function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return{type:le.a,timeStripeArray:a}},de=a(29),me=a(6),fe=function(e){var t=[];return e.forEach(function(e){e.floor;var a=Object(f.a)(e,["floor"]);t.length>0?t.forEach(function(n){t.every(function(t){return t.floor!==e.floor})?t.push({floor:e.floor,rooms:[a]}):n.floor===e.floor&&n.rooms.push(a)}):t.push({floor:e.floor,rooms:[a]})}),t=function e(t){if(t.length<2)return t;var a=t[Math.floor(Math.random()*t.length)],n=t.filter(function(e){return e.floor<a.floor}),r=t.filter(function(e){return e.floor>a.floor});return Object(me.a)(e(r)).concat([a],Object(me.a)(e(n)))}(t),{type:le.b,rearrangedRooms:t}},pe=function(){return function(e){Object(Z.a)("rooms").then(function(t){e(fe(t)),e(function(e){return{type:de.a,payload:e}}(t))})}},he=(a(251),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fillTimeStripeArray,a=e.openHours,n=e.closeHours;(0,e.loadRooms)(),t(Number(a),Number(n))}},{key:"render",value:function(){var e=this.props.hidden;return l.a.createElement("main",{className:"main ".concat(e?"hidden":"")},l.a.createElement("div",{className:"left-column"},l.a.createElement(_,null),l.a.createElement(se,null)),l.a.createElement(ne,null))}}]),t}(s.Component)),ge={fillTimeStripeArray:ue,loadRooms:pe};t.default=Object(u.b)(function(e){return{openHours:e.pageReducer.openTime.hours,closeHours:e.pageReducer.closeTime.hours}},ge)(he)}}]);
//# sourceMappingURL=5.e44390b7.chunk.js.map