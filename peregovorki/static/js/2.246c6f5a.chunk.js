(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{120:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=a.a.shape({login:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,homeFloor:a.a.number.isRequired}),i=(a.a.arrayOf(o),a.a.shape({name:a.a.string,floor:a.a.number,maxVisitors:a.a.number,selected:a.a.bool})),s=(a.a.arrayOf(i),a.a.shape({startingDate:a.a.number.isRequired,startingMonth:a.a.number.isRequired})),c=a.a.shape({startingHours:a.a.string.isRequired,endingHours:a.a.string.isRequired,startingMinutes:a.a.string.isRequired,endingMinutes:a.a.string.isRequired}),u=a.a.shape({name:a.a.string.isRequired,users:a.a.arrayOf(o).isRequired,room:i.isRequired,date:s.isRequired,time:c.isRequired,id:a.a.string}),l=(a.a.arrayOf(u),a.a.arrayOf(a.a.number),a.a.shape({floor:a.a.number.isRequired,rooms:a.a.arrayOf(i)}));a.a.arrayOf(l),a.a.objectOf(a.a.string)},121:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(123);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("h2",Object.assign({className:"headline ".concat(t)},a),r)}},122:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(128);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"paragraph ".concat(t)},a),r)}},123:function(e,t,r){},126:function(e,t,r){"use strict";var n=r(3);t.a=function(){return{type:n.i}}},128:function(e,t,r){},135:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a),i=(r(147),function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("button",Object.assign({className:"round-btn ".concat(t)},a),r)});i.defaultProps={className:""},t.a=i},137:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a);r(138);t.a=function(e){var t=e.className,r=e.children,a=Object(n.a)(e,["className","children"]);return o.a.createElement("p",Object.assign({className:"grey-paragraph ".concat(t)},a),r)}},138:function(e,t,r){},140:function(e,t,r){"use strict";var n=r(3);t.a=function(e,t){return{type:n.l,month:e,date:t}}},141:function(e,t,r){"use strict";var n=r(29);t.a=function(e){return{type:n.b,id:e}}},142:function(e,t,r){"use strict";var n=r(3);t.a=function(){return{type:n.h}}},143:function(e,t,r){"use strict";var n=r(26),a=r(1),o=r.n(a),i=(r(144),function(e){var t=e.children,r=e.className,a=Object(n.a)(e,["children","className"]);return o.a.createElement("button",Object.assign({className:"grey-btn ".concat(r)},a),t)});i.defaultProps={className:""},t.a=i},144:function(e,t,r){},146:function(e,t,r){"use strict";var n=r(35);t.a=function(e){Object(n.a)("events").then(function(t){var r=t.filter(function(t){return t.id!==e});localStorage.setItem("events",JSON.stringify(r))})}},147:function(e,t,r){},157:function(e,t,r){},159:function(e,t,r){},177:function(e,t,r){},179:function(e,t,r){},181:function(e,t,r){},183:function(e,t,r){},186:function(e,t,r){},188:function(e,t,r){},196:function(e,t,r){},198:function(e,t,r){},200:function(e,t,r){},202:function(e,t,r){},204:function(e,t,r){},207:function(e,t,r){},209:function(e,t,r){},211:function(e,t,r){},254:function(e,t,r){"use strict";r.r(t);var n=r(12),a=r(13),o=r(16),i=r(14),s=r(15),c=r(1),u=r.n(c),l=r(17),d=r(127),m=r.n(d),p=r(10),f=r(37),g=r.n(f),h=r(122),b=(r(157),Object(p.c)(function(e){var t=e.avatarUrl,r=e.name,n=e.removeUser,a=(0,e.intl.formatMessage)({id:"participatorCard.label"},{name:r});return u.a.createElement("button",{className:"participator-card",onClick:n,"aria-label":a},u.a.createElement("div",{className:"particitapor-card__image-container"},u.a.createElement("img",{className:"participator-card__avatar",src:t,alt:"".concat(r,"'s avatar")})),u.a.createElement(h.a,{className:"participator-card__paragraph"},r),u.a.createElement("div",{className:"participator-card__close-icon"},u.a.createElement(g.a,{name:"times"})))})),v=r(3),E=function(e){return{type:v.g,id:e}},y=r(18),O=function(e,t,r,n,a){var o=e.filter(function(e){return!t.some(function(t){return e.id===t.id})}).filter(function(e){return!(e.busyTime.length>0)||e.busyTime.every(function(e){var t=e.startingDate===n.startingDate&&e.startingMonth===n.startingMonth;return!(!a&&t)||function(e){var t=e.startingHours,n=e.startingMinutes,a=e.endingHours,o=e.endingMinutes;return a<=r.startingHours&&o<=r.startingMinutes||t>=r.endingHours&&n>=r.endingMinutes}(e)})});return{type:y.e,payload:o}},j=r(6),N=function(e){return{type:j.d,isError:e<2}},w=function(e,t){return{type:j.a,isError:e>t}},R=(r(120),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).renderParticipators=function(){var e=r.props,t=e.participators,n=e.removeUser;return t.map(function(e){return u.a.createElement(b,{key:e.id,name:e.login,avatarUrl:e.avatarUrl,removeUser:function(){n(e.id)}})})},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.updateFreeUsers,r=e.users,n=e.participators,a=e.currentTime,o=e.editing;t(r,n,a,e.currentDate,o)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.checkForParticipantsError,r=e.roomIsSelected,n=e.checkForCapacityError,a=e.participators,o=e.maxVisitors,i=e.updateFreeUsers,s=e.users,c=e.currentTime,u=e.editing;i(s,a,c,e.currentDate,u),t(a.length),r&&n(a.length,o)}},{key:"render",value:function(){return u.a.createElement("div",null,this.renderParticipators())}}]),t}(c.Component)),M={updateFreeUsers:O,removeUser:E,checkForParticipantsError:N,checkForCapacityError:w},k=Object(l.b)(function(e){return{users:e.usersReducer.users,participators:e.eventsReducer.currentEvent.users,currentTime:e.eventsReducer.currentEvent.time,currentDate:e.eventsReducer.currentEvent.date,editing:e.pageReducer.editEventModalOpen}},M)(R),C=r(136),T=function(e){return{type:y.d,payload:e}},_=r(26),x=r(2),H=r.n(x),S=(r(159),Object(c.forwardRef)(function(e,t){var r=e.isError,n=e.className,a=Object(_.a)(e,["isError","className"]);return u.a.createElement("input",Object.assign({type:"text",className:"input ".concat(r?"input--error":""," ").concat(n),ref:t},a))}));S.propTypes={isError:H.a.bool,className:H.a.string},S.defaultProps={isError:!1,className:""};var D=S,I=function(e){return{type:y.a,payload:e}},F=function(e){return{type:y.b,payload:e}},U=function(e){return{type:v.b,payload:e}},A=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).resetIndex=function(){(0,r.props.changeIndex)(0)},r.handleEnter=function(){var e=r.props,t=e.addUser,n=e.foundUsers,a=e.highlightedIndex;0!==n.length&&(t(n[a]),n.length-1===a&&r.resetIndex())},r.handleArrowUp=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.changeIndex,o=e.scrollbar;n>0?(a(n-1),o.scrollTop(35*(n-1))):(a(t.length-1),o.scrollToBottom())},r.handleArrowDown=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.changeIndex,o=e.scrollbar;n<=t.length-2?(a(n+1),o.scrollTop(35*n)):(r.resetIndex(),o.scrollToTop())},r.listenToKeypresses=function(e){var t=r.props.setFocused;switch(e.key){case"Enter":e.preventDefault(),r.handleEnter();break;case"ArrowUp":e.preventDefault(),r.handleArrowUp();break;case"ArrowDown":e.preventDefault(),r.handleArrowDown();break;case"Escape":e.preventDefault(),e.target.blur(),t();break;case"Tab":t()}},r.onChange=function(e){var t=r.props.onInputValueChange;r.resetIndex(),e.preventDefault(),t(e.target.value)},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.activeId,n=e.isError,a=e.setFocused,o=e.inputValue,i=e.isAllErrorsShown;return u.a.createElement(D,{onChange:this.onChange,value:o,onKeyDown:this.listenToKeypresses,placeholder:t,"aria-autocomplete":"both","aria-activedescendant":r,isError:n&&i,onFocus:function(){return a(!0)}})}}]),t}(c.Component);A.defaultProps={placeholder:""};var V={setFocused:T,changeIndex:I,onInputValueChange:F,addUser:U},B=Object(l.b)(function(e){return{highlightedIndex:e.dropdownReducer.highlightedIndex,isAllErrorsShown:e.errorReducer.isAllErrorsShown,inputValue:e.dropdownReducer.inputValue,activeId:e.dropdownReducer.activeId,scrollbar:e.dropdownReducer.scrollbar}},V)(A),P=r(0),q=r(161),L=r.n(q),K=r(137),J=(r(177),function(e){var t=e.name,r=e.avatarSrc,n=e.homeFloor,a=e.highlighted,o=e.id,i=e.onClick;return u.a.createElement("div",{className:"dropdown-option ".concat(a?"dropdown-option__active":""),id:o,onClick:i},u.a.createElement("div",{className:"dropdown-option__image-container"},u.a.createElement("img",{className:"dropdown-option__avatar",src:r,alt:"".concat(t)})),u.a.createElement(h.a,{className:"dropdown-option__paragraph ".concat(a?"dropdown-option__highlighted":"")},t," ","\xb7\xa0"),u.a.createElement(K.a,{className:"dropdown-option__grey-paragraph ".concat(a?"dropdown-option__highlighted":"")},u.a.createElement("span",{className:"dropdown-option__floor-number"},n)," ","\u044d\u0442\u0430\u0436"))});J.defaultProps={id:""};var W=J,z=function(e){return{type:y.c,payload:e}},Y=(r(179),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).renderItems=function(){var e=r.props,t=e.foundUsers,n=e.highlightedIndex,a=e.addUser,o=e.activeId;return t.map(function(e,t){var r=n===t;return u.a.createElement(W,{key:e.id,name:e.login,homeFloor:e.homeFloor,avatarSrc:e.avatarUrl,highlighted:r,onClick:function(){return a(e)},id:r?o:null})})},r.scrollbarTrackVertical=function(e){var t=e.style,n=e.props,a=r.props.noScrollbar?{display:"none"}:{display:"inline-block",height:"100%",backgroundColor:"#ffffff",width:"22px",right:"0px",top:"0px",boxSizing:"border-box",paddingBottom:"10px"};return u.a.createElement("div",Object.assign({style:Object(P.a)({},t,a)},n))},r.scrollbarThumb=function(e){var t=e.style,n=e.props,a=r.props.noScrollbar?{display:"none"}:{width:"11px",backgroundColor:"#d5dfe9",borderRadius:"5px",marginTop:"5px",marginLeft:"5px"};return u.a.createElement("div",Object.assign({style:Object(P.a)({},t,a)},n))},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getScrollbar)(this.scrollbars)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"autocomplete__menu","aria-selected":"true"},u.a.createElement(L.a,{autoHeight:!0,autoHeightMax:140,renderThumbVertical:this.scrollbarThumb,renderTrackVertical:this.scrollbarTrackVertical,hideTracksWhenNotNeeded:!0,ref:function(t){e.scrollbars=t}},this.renderItems()))}}]),t}(c.Component)),G={getScrollbar:z,addUser:U},Q=Object(l.b)(function(e){return{activeId:e.dropdownReducer.activeId,freeUsers:e.dropdownReducer.freeUsers,highlightedIndex:e.dropdownReducer.highlightedIndex,inputValue:e.dropdownReducer.inputValue}},G)(Y),X=(r(181),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).findUsers=function(){var e=r.props,t=e.freeUsers,n=e.inputValue;return t.filter(function(e){return t=e.login,r=n,t.toLowerCase().includes(r.trim().toLowerCase());var t,r})},r.handleClickOutside=function(){var e=r.props,t=e.focused,n=e.setFocused;t&&n(!1)},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.focused,r=e.intl.formatMessage,n=e.isError,a=r({id:"meeting.dropdown.placeholder"}),o=this.findUsers();return u.a.createElement("div",{className:"autocomplete",role:"combobox","aria-expanded":t,"aria-haspopup":"listbox"},u.a.createElement(B,{focused:t,placeholder:a,isError:n,foundUsers:o}),t&&u.a.createElement(Q,{foundUsers:o}))}}]),t}(c.Component)),Z={setFocused:T},$=Object(l.b)(function(e){return{focused:e.dropdownReducer.focused,freeUsers:e.dropdownReducer.freeUsers,inputValue:e.dropdownReducer.inputValue,currentTime:e.eventsReducer.currentEvent.time}},Z)(Object(p.c)(Object(C.a)(X))),ee=(r(183),function(e){var t=e.className,r=e.children,n=Object(_.a)(e,["className","children"]);return u.a.createElement("p",Object.assign({className:"error-text ".concat(t)},n),r)}),te=Object(l.b)(function(e){return{isAllErrorsShown:e.errorReducer.isAllErrorsShown}})(function(e){var t=e.isError,r=e.message,n=e.isAllErrorsShown;return u.a.createElement(c.Fragment,null,t&&n&&u.a.createElement(ee,null,r))}),re=r(49),ne=r(185),ae=r(121),oe=r(50),ie=(r(186),function(e){var t=function(t){function r(e){var t;return Object(n.a)(this,r),t=Object(o.a)(this,Object(i.a)(r).call(this,e)),Object(ne.enableUniqueIds)(Object(re.a)(Object(re.a)(t))),t}return Object(s.a)(r,t),Object(a.a)(r,[{key:"render",value:function(){var t=this.props,r=t.className,n=t.label,a=Object(_.a)(t,["className","label"]);return u.a.createElement("div",{className:r},u.a.createElement("label",{htmlFor:this.nextUniqueId()},u.a.createElement(ae.a,{className:"label__headline"},n)),u.a.createElement(e,Object.assign({},a,{id:this.lastUniqueId()})))}}]),r}(u.a.Component);t.defaultProps={className:"",label:""};var r=Object(oe.a)(t);return t.displayName="AddLabel(".concat(r,")"),t}),se=ie(Object(l.b)(function(e){return{"parti\u0441ipantsError":e.errorReducer.parti\u0441ipantsError,capacityError:e.errorReducer.capacityError,roomIsSelected:e.roomsReducer.roomIsSelected,maxVisitors:e.eventsReducer.currentEvent.room.maxVisitors}})(Object(p.c)(function(e){var t=e.parti\u0441ipantsError,r=e.capacityError,n=e.maxVisitors,a=e.intl.formatMessage,o=e.roomIsSelected,i=a({id:"meeting.dropdown.participantsErrorText"}),s=a({id:"meeting.dropdown.capacityErrorText"},{maxVisitors:n});return u.a.createElement("div",null,u.a.createElement(te,{message:i,isError:t}),u.a.createElement(te,{message:s,isError:r&&o}),u.a.createElement($,{isError:r&&(o||t)}),u.a.createElement(k,{maxVisitors:n,roomIsSelected:o}))}))),ce=(r(188),function(e){var t=e.className,r=e.children,n=Object(_.a)(e,["className","children"]);return u.a.createElement("h1",Object.assign({className:"large-headline ".concat(t)},n),r)}),ue=r(190),le=r.n(ue),de=r(140),me=r(24),pe=function(e,t){return{type:me.a,month:e,date:t}},fe=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).focus=function(){r.input.current.focus()},r.input=Object(c.createRef)(),r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement(D,Object.assign({ref:this.input},this.props))}}]),t}(c.Component),ge=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).now=new Date,r.modifiersStyles={highlightedDate:{color:"#fff",backgroundColor:"#55a8fe",borderRadius:"50%"}},r.updateDate=function(e){var t=r.props,n=t.monthsValue,a=t.updateDate,o=t.changeValue,i=e.getDate(),s=e.getMonth();a(s,i),o(n[s],i)},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,r=e.id,n=e.locale,a=e.months,o=e.daysShort,i=e.labels,s=e.firstDay,c=e.value,l={highlightedDate:new Date(this.now.getFullYear(),t.startingMonth,t.startingDate)};return u.a.createElement(le.a,{component:fe,id:r,value:c,dayPickerProps:{locale:n,months:a,labels:i,onDayClick:this.updateDate,weekdaysShort:o,firstDayOfWeek:s,modifiers:l,modifiersStyles:this.modifiersStyles,disabledDays:[{before:this.now}],fromMonth:this.now},inputProps:{onChange:function(e){e.target.value=c},placeholder:""}})}}]),t}(c.Component),he={updateDate:de.a,changeValue:pe},be=ie(Object(l.b)(function(e){return{date:e.eventsReducer.currentEvent.date,locale:e.dateReducer.locale,value:e.dateReducer.value,labels:e.dateReducer.labels,monthsValue:e.dateReducer.monthsValue,months:e.dateReducer.months,daysShort:e.dateReducer.daysShort,firstDay:e.dateReducer.firstDay}},he)(ge)),ve=(r(196),function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).triggerFocus=function(){r.setState(function(e){return{focused:!e.focused}})},r.handleKeyDown=function(e,t,r){switch(e.key){case"ArrowUp":t();break;case"ArrowDown":r()}},r.focusInput=function(e){r.triggerFocus(),e.currentTarget.select()},r.hours=Object(c.createRef)(),r.minutes=Object(c.createRef)(),r.state={focused:!1},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.onHoursChange,n=t.onMinutesChange,a=t.hours,o=t.minutes,i=t.timeError,s=t.limitError,c=t.isAllErrorsShown,l=t.increaseHours,d=t.increaseMinutes,m=t.decreaseHours,p=t.decreaseMinutes,f=this.state.focused,g=(i||s)&&c;return u.a.createElement("div",{className:"\n          time-input \n          ".concat(f?"time-input--focused":""," \n          ").concat(g?"time-input--error":"","\n        ")},u.a.createElement("input",{type:"text",value:a,onChange:r,className:"time-input__invisible-input",onFocus:this.focusInput,onBlur:this.triggerFocus,onKeyDown:function(t){e.handleKeyDown(t,l,m)},ref:this.hours}),u.a.createElement("span",{className:"time-input__colon"},":"),u.a.createElement("input",{type:"text",value:o,onChange:n,className:"time-input__invisible-input",onFocus:this.focusInput,onBlur:this.triggerFocus,onKeyDown:function(t){e.handleKeyDown(t,d,p)},ref:this.minutes}))}}]),t}(c.Component)),Ee=ie(Object(l.b)(function(e){return{timeError:e.errorReducer.timeError,limitError:e.errorReducer.limitError,isAllErrorsShown:e.errorReducer.isAllErrorsShown}})(ve)),ye=function(e,t){return{type:t,payload:e}},Oe=function(e){return{type:e,payload:""}},je=function(e){return e<10?"0".concat(e):e.toString()},Ne=function(e,t,r,n,a){var o=Number(e);return o<n&&o>=r?{type:t,payload:je(o+a)}:{type:t,payload:je(r)}},we=function(e,t,r,n){var a=Number(e);return a>=r?{type:t,payload:je(a-n)}:{type:t,payload:je(a)}},Re=function(e){var t=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=Number(e[r])}),t}(e),r=t.startingHours,n=t.endingHours,a=t.startingMinutes,o=t.endingMinutes;return{type:j.g,isError:r>n||r===n&&a>=o}},Me=function(e,t){return{type:j.b,isError:Number(e)<t}},ke=(r(198),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onChangeTime=function(e,t,n){var a=Number(t),o=r.props,i=o.updateTime,s=o.resetTime;!Number.isNaN(a)&&(t.length>2||a>n?s(e):i(t,e))},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.checkForTimeError,r=e.checkForLimitError,n=e.time;r(n.startingHours,8),t(n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.time,n=t.increaseTime,a=t.decreaseTime,o=t.intl.formatMessage,i=o({id:"meeting.timeSetter.startLabel"}),s=o({id:"meeting.timeSetter.endLabel"});return u.a.createElement("div",{className:"time-setter"},u.a.createElement(Ee,{label:i,className:"time-setter__input",hours:r.startingHours,minutes:r.startingMinutes,increaseHours:function(){n(r.startingHours,v.o,8,22,1)},increaseMinutes:function(){n(r.startingMinutes,v.p,0,55,5)},decreaseHours:function(){a(r.startingHours,v.o,9,1)},decreaseMinutes:function(){a(r.startingMinutes,v.p,5,5)},onHoursChange:function(t){e.onChangeTime(v.o,t.target.value,22)},onMinutesChange:function(t){e.onChangeTime(v.p,t.target.value,59)}}),u.a.createElement("span",{className:"time-setter__space"},"\u25ac"),u.a.createElement(Ee,{label:s,className:"time-setter__input",hours:r.endingHours,minutes:r.endingMinutes,increaseHours:function(){n(r.endingHours,v.m,8,22,1)},increaseMinutes:function(){n(r.endingMinutes,v.n,0,55,5)},decreaseHours:function(){a(r.endingHours,v.m,9,1)},decreaseMinutes:function(){a(r.endingMinutes,v.n,5,5)},onHoursChange:function(t){e.onChangeTime(v.m,t.target.value,22)},onMinutesChange:function(t){e.onChangeTime(v.n,t.target.value,59)}}))}}]),t}(c.Component)),Ce={updateTime:ye,resetTime:Oe,increaseTime:Ne,decreaseTime:we,checkForTimeError:Re,checkForLimitError:Me},Te=Object(l.b)(function(e){return{time:e.eventsReducer.currentEvent.time}},Ce)(Object(p.c)(ke)),_e=(r(200),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).containerStyles={display:"flex"},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=(0,e.intl.formatMessage)({id:"meeting.timeSetter.dateLabel"});return u.a.createElement("div",{className:"date-and-time ".concat(t)},u.a.createElement(be,{label:r}),u.a.createElement(Te,null))}}]),t}(c.Component));_e.defaultProps={className:""};var xe=Object(p.c)(_e),He=r(7),Se=(r(202),Object(p.c)(function(e){var t=e.freeTime,r=e.roomName,n=e.floorNumber,a=e.selected,o=e.onCardSelect,i=e.onCardDeselect,s=(0,e.intl.formatMessage)({id:"roomCard.roomInfo"},{roomName:r,floorNumber:n});return u.a.createElement("button",{className:"room-card ".concat(a?"room-card--selected":""),onClick:a?i:o},u.a.createElement("span",{className:"room-card__inner"},u.a.createElement(ae.a,{className:"room-card__headline"},"".concat(t.startingHours,":").concat(t.startingMinutes),"\u2013","".concat(t.endingHours,":").concat(t.endingMinutes)),u.a.createElement(h.a,{className:"room-card__paragraph"},s),a&&u.a.createElement("div",null,u.a.createElement(g.a,{name:"times",className:"room-card__close-icon"}))))})),De=r(141),Ie=function(e){return{type:v.k,payload:e}},Fe=r(142),Ue=function(e){return{type:j.e,isError:!e}},Ae=(r(204),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).getThisRoomEventsTime=function(e){var t=r.props,n=t.editing,a=t.currentEventId,o=t.date,i=t.events.filter(function(e){return e.date.startingDate===o.startingDate&&e.date.startingMonth===o.startingMonth}).map(function(t){return t.room.id===e.id?n?t.id!==a?t.time:null:t.time:null});return i.filter(function(e){return null!==e})},r.sortEventsByTime=function(e){if(e.length<2)return e;var t=e[Math.floor(Math.random()*e.length)],n=e.filter(function(e){return e.endingHours<=t.startingHours&&e.endingMinutes<=t.startingMinutes}),a=e.filter(function(e){return e.startingHours>=t.endingHours&&e.startingMinutes>=t.endingMinutes});return Object(He.a)(r.sortEventsByTime(n)).concat([t],Object(He.a)(r.sortEventsByTime(a)))},r.getCondition=function(e,t,r,n,a){if(">"===a)return e>=t&&r>=n;if("<"===a)return e<=t&&r<=n;throw Error("Dude, ".concat(a," is neither '<' or '>'"))},r.getFreeTime=function(e){var t=r.props,n=t.currentEventTime,a=t.openTime,o=t.closeTime,i=r.getThisRoomEventsTime(e);if(i.length<1)return{startingHours:a.hours,startingMinutes:a.minutes,endingHours:o.hours,endingMinutes:o.minutes};for(var s=r.sortEventsByTime(i),c=0;c<s.length;c++){if(s[c+1]&&s[c+1].startingHours!==s[c].endingHours&&s[c+1].startingHours!==s[c].endingHours&&r.getCondition(n.startingHours,s[c].endingHours,n.startingMinutes,s[c].endingMinutes,">")&&r.getCondition(n.endingHours,s[c+1].startingHours,n.endingMinutes,s[c+1].startingMinutes,"<"))return{startingHours:s[c].endingHours,startingMinutes:s[c].endingMinutes,endingHours:s[c+1].startingHours,endingMinutes:s[c+1].startingMinutes};if(!s[c-1]&&r.getCondition(n.startingHours,s[c].startingHours,n.startingMinutes,s[c].startingMinutes,"<")&&r.getCondition(n.endingHours,s[c].startingHours,n.endingMinutes,s[c].startingMinutes,"<"))return{startingHours:a.hours,startingMinutes:a.minutes,endingHours:s[c].startingHours,endingMinutes:s[c].startingMinutes};if(!s[c+1]&&r.getCondition(n.startingHours,s[c].endingHours,n.startingMinutes,s[c].endingMinutes,">"))return{startingHours:s[c].endingHours,startingMinutes:s[c].endingMinutes,endingHours:o.hours,endingMinutes:o.minutes}}return!1},r.renderSelectedRoom=function(){var e=r.props,t=e.rooms,n=e.resetRoom,a=e.triggerSelected,o=t.find(function(e){return e.selected}),i=r.getFreeTime(o);return i?u.a.createElement(Se,{key:o.id,freeTime:i,roomName:o.name,floorNumber:o.floor,selected:o.selected,onCardDeselect:function(e){e.stopPropagation(),a(o.id),n()}}):null},r.getRoomsToRender=function(){var e=r.props,t=e.rooms,n=e.currentEventUsers,a=t.filter(function(e){return function(){return n.length<=e.maxVisitors}?e:null});if(n.length>0){var o=n.map(function(e){return e.homeFloor});return function(e,t){if(e.length<2)return e;var r=e.filter(function(e){return e.floor===t}),n=e.filter(function(e){return e.floor>t}),a=e.filter(function(e){return e.floor<t});return Object(He.a)(r).concat(Object(He.a)(a),Object(He.a)(n))}(a,function(){for(var e=o.sort(),t=e[0],r=0,n=1,a=0;a<e.length;a++)e[a]===t?r++:e[a]===e[a+1]&&++n>r&&(t=e[a],r=n,n=1);return t}())}return a},r.renderRooms=function(){var e=r.props,t=e.setRoom,n=e.triggerSelected,a=r.getRoomsToRender(),o=0;return a.map(function(e){var a=r.getFreeTime(e);return a&&o<5?(o++,u.a.createElement(Se,{key:e.id,freeTime:a,roomName:e.name,floorNumber:e.floor,selected:e.selected,onCardSelect:function(){t(e),n(e.id)}})):null})},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props;(0,e.checkForRoomError)(e.roomIsSelected)}},{key:"render",value:function(){var e=this.props,t=e.roomIsSelected,r=e.className,n=e.roomError,a=e.intl.formatMessage,o=a({id:"meeting.roomCards.selectedHeadline"}),i=a({id:"meeting.roomCards.unselectedHeadline"}),s=a({id:"meeting.roomCards.errorText"});return u.a.createElement("section",{className:"room-cards ".concat(r)},u.a.createElement(ae.a,{className:"room-cards__headline"},t?o:i),u.a.createElement(te,{message:s,isError:n}),u.a.createElement("div",null,t?this.renderSelectedRoom():this.renderRooms()))}}]),t}(c.Component));Ae.defaultProps={className:""};var Ve={triggerSelected:De.a,setRoom:Ie,resetRoom:Fe.a,checkForRoomError:Ue},Be=Object(l.b)(function(e){return{rooms:e.roomsReducer.rooms,roomIsSelected:e.roomsReducer.roomIsSelected,roomError:e.errorReducer.roomError,events:e.eventsReducer.events,currentEventTime:e.eventsReducer.currentEvent.time,currentEventUsers:e.eventsReducer.currentEvent.users,closeTime:e.pageReducer.closeTime,openTime:e.pageReducer.openTime,editing:e.pageReducer.editEventModalOpen,currentEventId:e.eventsReducer.currentEvent.id,date:e.eventsReducer.currentEvent.date}},Ve)(Object(p.c)(Ae)),Pe=r(143),qe=r(39),Le=r(206),Ke=r(4),Je=r(35),We=function(e,t){Object(Je.a)("events").then(function(r){localStorage.setItem("events",JSON.stringify(Object(He.a)(r).concat([Object(P.a)({},e,{id:t})])))})},ze=r(36),Ye=function(e){var t=Object(Le.time)();return function(r){We(e,t),r(function(e){return{type:v.a,id:e}}(t)),r(Object(ze.a)(Ke.e))}},Ge=r(146),Qe=function(e,t){return new Promise(function(e){e(Object(Ge.a)(t))}).then(function(){We(e,t)})},Xe=function(e,t){return function(r){Qe(e,t),r(function(e,t){return{type:v.e,id:e,updatedEvent:t}}(t,e))}},Ze=r(126),$e=function(){return{type:j.f}},et=r(19),tt=function(e,t){Object(Je.a)("users").then(function(r){return r.map(function(r){return e.some(function(e){return e.id===r.id})?Object(P.a)({},r,{busyTime:Object(He.a)(r.busyTime).concat([t])}):r})}).then(function(e){localStorage.setItem("users",JSON.stringify(e))})},rt=function(e,t){return function(r){tt(e,t),r(function(e,t){return{type:et.c,payload:{users:e,busyTime:t}}}(e,t))}},nt=(r(207),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).checkForErrors=function(){var e=r.props,t=e.nameError,n=e.parti\u0441ipantsError,a=e.roomError,o=e.capacityError,i=e.timeError;return t||n||a||o||i},r.handleCreate=function(){var e=r.props,t=e.createEvent,n=e.triggerModal,a=e.showAllErrors,o=e.currentEvent,i=e.updateUserBusyTime;r.checkForErrors()?a():(t(o),i(o.users,Object(P.a)({},o.time,o.date)),n(Ke.b))},r.handleEdit=function(){var e=r.props,t=e.editEvent,n=e.triggerModal,a=e.currentEvent,o=e.showAllErrors,i=e.resetValues;r.checkForErrors()?o():(t(a,a.id),n(Ke.d),rt(a.users,a.time),i())},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCancel,r=e.onDelete,n=e.edit,a=e.intl.formatMessage,o=a({id:"meeting.bottomBtns.cancelBtnText"}),i=a({id:"meeting.bottomBtns.deleteBtnText"}),s=a({id:"meeting.bottomBtns.saveBtnText"}),l=a({id:"meeting.bottomBtns.createBtnText"});return u.a.createElement("div",{className:"bottom-btns"},u.a.createElement(Pe.a,{onClick:t},o),n?u.a.createElement(c.Fragment,null,u.a.createElement(Pe.a,{onClick:r,className:"bottom-btns__delete-btn"},i),u.a.createElement(qe.a,{text:s,onClick:this.handleEdit,className:"bottom-btns__save-btn"})):u.a.createElement(qe.a,{text:l,onClick:this.handleCreate,className:"bottom-btns__submit-btn"}))}}]),t}(c.Component)),at={createEvent:Ye,editEvent:Xe,triggerModal:ze.a,resetValues:Ze.a,showAllErrors:$e,updateUserBusyTime:rt},ot=Object(l.b)(function(e){return{currentEvent:e.eventsReducer.currentEvent,nameError:e.errorReducer.nameError,"parti\u0441ipantsError":e.errorReducer.parti\u0441ipantsError,roomError:e.errorReducer.roomError,capacityError:e.errorReducer.capacityError,timeError:e.errorReducer.timeError}},at)(Object(p.c)(nt)),it=(r(209),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).mobileDeleteBtnStyles={width:"100%",backgroundColor:"#fff",color:"#ff3333",textAlign:"center",height:"60px",fontFamily:"TextBook, sans-serif",fontWeight:"normal",fontSize:"17px",cursor:"pointer",border:"none",transition:".15s ease-in-out",outline:"none",":focus,:active":{color:"#f00"}},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.onClick,n=e.className;return u.a.createElement("button",{className:"delete-btn ".concat(n),onClick:r},t)}}]),t}(c.Component));it.defaultProps={className:""};var st=function(e){return{type:v.c,payload:e}},ct=function(e){return{type:j.c,isError:!e}},ut=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleChange=function(e){(0,r.props.setEventName)(e.target.value)},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props;(0,e.checkForNameError)(e.eventName)}},{key:"render",value:function(){var e=this.props,t=e.eventName,r=e.nameError,n=e.intl.formatMessage,a=e.isAllErrorsShown,o=(e.setEventName,e.checkForNameError,Object(_.a)(e,["eventName","nameError","intl","isAllErrorsShown","setEventName","checkForNameError"])),i=n({id:"meeting.eventNameSetter.errorText"});return u.a.createElement("div",null,u.a.createElement(te,{message:i,isError:r}),u.a.createElement(D,Object.assign({value:t,isError:r&&a,onChange:this.handleChange},o)))}}]),t}(c.Component);ut.defaultProps={placeholder:""};var lt={setEventName:st,checkForNameError:ct},dt=ie(Object(l.b)(function(e){return{eventName:e.eventsReducer.currentEvent.name,nameError:e.errorReducer.nameError,isAllErrorsShown:e.errorReducer.isAllErrorsShown}},lt)(Object(p.c)(ut))),mt=r(135),pt=Object(p.c)(function(e){var t=e.intl.formatMessage,r=Object(_.a)(e,["intl"]),n=t({id:"closeBtnAriaLabel"});return u.a.createElement(mt.a,Object.assign({},r,{"aria-label":n}),u.a.createElement(g.a,{name:"times"}))}),ft=(r(211),function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(r=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).closeModal=function(){var e=r.props,t=e.edit,n=e.triggerModal,a=e.resetValues;t?(n(Ke.d),a()):n(Ke.b)},r.handleDelete=function(){(0,r.props.triggerModal)(Ke.c)},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.edit,n=e.intl.formatMessage,a=n({id:"meeting.eventNameSetter.placeholder"}),o=n({id:"meeting.eventNameSetter.label"}),i=n({id:"meeting.dropdown.placeholder"}),s=n({id:"meeting.dropdown.label"}),c=n({id:"meeting.edit.deleteBtnText"});return u.a.createElement(m.a,null,u.a.createElement("section",{className:"meeting"},u.a.createElement("div",{className:"meeting__inner"},u.a.createElement("div",{className:"meeting-section"},u.a.createElement(ce,{className:"meeting__headline"},t)),u.a.createElement("div",{className:"meeting-section"},u.a.createElement(dt,{label:o,placeholder:a,className:"meeting-section__subsection"}),u.a.createElement(xe,{className:"meeting-section__subsection"}),u.a.createElement(pt,{className:"meeting__close-btn",onClick:this.closeModal})),u.a.createElement("div",{className:"meeting-section"},u.a.createElement(se,{label:s,placeholder:i,className:"meeting-section__subsection"}),u.a.createElement(Be,{className:"meeting-section__subsection"})),r&&u.a.createElement(it,{text:c,onClick:this.handleDelete,className:"meeting__delete-btn"})),u.a.createElement(ot,{onCancel:this.closeModal,onDelete:this.handleDelete,edit:r})))}}]),t}(c.Component)),gt={triggerModal:ze.a,resetValues:Ze.a};t.default=Object(l.b)(function(e){return{edit:e.pageReducer.editEventModalOpen}},gt)(Object(p.c)(ft))}}]);
//# sourceMappingURL=2.246c6f5a.chunk.js.map